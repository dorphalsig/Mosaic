<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<TITLE>
Class
</TITLE>
</HEAD>
<FONT SIZE="+2"><B>Class</B></FONT><BR><BR><HR>
<FONT SIZE="+1"><B>Overview</B></FONT><BR>
<P>

      A class is a classifier with structural features (i.e. attributes).
      Instances of classes are always objects with slots for the attributes
      of the class. A class is instantiated using the 'new/0' and 'new/1'
      operations (inherited from Classifier). The former takes no initialization
      arguments whereas the latter takes a sequence of initialization arguments.
      The preferred way of instantiating a class is by applying it as an 
      operator to the initialization arguments, as in C() or C(1,2,3). This
      instantiates the class and calls 'init/1' on the resulting instance.
      Typically classes will redefine 'init/1' to initialize new instances
      on a class-by-class basis. Typically you will create a class using the 
      @Class ... en-d notation.
    
<BR><HR><BR>
<B>Parents</B>
<A HREF="../../../Root/XCore/Classifier/index.html">Classifier</A>
,<A HREF="../../../Root/XCore/NameSpace/index.html">NameSpace</A>
,<A HREF="../../../Root/XCore/IndexedContainer/index.html">IndexedContainer</A>
,<A HREF="../../../Root/XCore/NamedElement/index.html">NamedElement</A>
,<A HREF="../../../Root/XCore/DocumentedElement/index.html">DocumentedElement</A>
,<A HREF="../../../Root/XCore/Container/index.html">Container</A>
,<A HREF="../../../Root/XCore/Contained/index.html">Contained</A>
,<A HREF="../../../Root/XCore/Object/index.html">Object</A>
,<A HREF="../../../Root/XCore/Element/index.html">Element</A>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructors</B></FONT></TD>
</TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=3><FONT SIZE="+2">
<B>Attributes</B></FONT></TD>
</TR>
<TR><TD><B>attributes</B></TD><TD><A HREF="../../../Root/XCore/Attribute/index.html">Set(Attribute)<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>constructors</B></TD><TD><A HREF="../../../Root/XCore/Constructor/index.html">Seq(Constructor)<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>delegatesTo</B></TD><TD><A HREF="../../../Root/XCore/Class/index.html">Class<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>isAbstract</B></TD><TD><A HREF="../../../Root/XCore/Boolean/index.html">Boolean<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>resourceName</B></TD><TD><A HREF="../../../Root/XCore/String/index.html">String<A></TD><TD>No Documentation Specified</TD></TR>
<TR>
<TD COLSPAN=3>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../Root/XCore/Classifier/index.html">Classifier</A>: constraints, default, grammar, isFinal, operations, parents. <BR><B>From</B> <A HREF="../../../Root/XCore/NameSpace/index.html">NameSpace</A>: bindings, imports. <BR><B>From</B> <A HREF="../../../Root/XCore/IndexedContainer/index.html">IndexedContainer</A>: contents. <BR><B>From</B> <A HREF="../../../Root/XCore/NamedElement/index.html">NamedElement</A>: name. <BR><B>From</B> <A HREF="../../../Root/XCore/DocumentedElement/index.html">DocumentedElement</A>: documentation. <BR><B>From</B> <A HREF="../../../Root/XCore/Contained/index.html">Contained</A>: owner. <BR><B>From</B> <A HREF="../../../Root/XCore/Element/index.html">Element</A>: roleFiller. <BR></FONT>
</TD>
</TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="2" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Operations</B></FONT></TD>
</TR>
<TR><TD><B><a href="#VMNew">VMNew</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#add">add</a>(n:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>
      Exte-nd the behaviour for 'add' inherited from
      Classifier by taking attributes and constructors
      into account.
    </TD></TR>
<TR><TD><B><a href="#addAttribute">addAttribute</a>(a:<A HREF="../../../Root/XCore/Attribute/index.html">Attribute<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>
       Adds an attribute to a class and sets the owner
       of the attribute to be the class. Use Class::add
       in preference to this since that will also add
       the attribute to the contents table of the class.
     </TD></TR>
<TR><TD><B><a href="#addConstructor">addConstructor</a>(c:<A HREF="../../../Root/XCore/Constructor/index.html">Constructor<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      Add a constructor to a class. Use Class::add in
      preference to this.
    </TD></TR>
<TR><TD><B><a href="#addDelayed">addDelayed</a>(o:<A HREF="../../../Root/XCore/Operation/index.html">Operation<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#addOperation">addOperation</a>(o:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>
       Obsolete.
    </TD></TR>
<TR><TD><B><a href="#allAttributes">allAttributes</a>():<A HREF="../../../Root/XCore/Attribute/index.html">Set(Attribute)<A></B></TD><TD>
      Get all the attributes that are defined and inherited by the
      class. Refer to the 'attributes' attribute of a class to
      get the locally defined attributes of a class.
    </TD></TR>
<TR><TD><B><a href="#allClasses">allClasses</a>():<A HREF="../../../Root/XCore/Object/index.html">Set(Object)<A></B></TD><TD>
      Return a list of all classes
    </TD></TR>
<TR><TD><B><a href="#allConstructors">allConstructors</a>():<A HREF="../../../Root/XCore/Constructor/index.html">Seq(Constructor)<A></B></TD><TD>
      Calculate a sequence of constructors in most specific 
      to least specific order.
    </TD></TR>
<TR><TD><B><a href="#allDirectInstances">allDirectInstances</a>():<A HREF="../../../Root/XCore/Object/index.html">Seq(Object)<A></B></TD><TD>
      Return a list of all instances o for which o.of() = self
    </TD></TR>
<TR><TD><B><a href="#allInstances">allInstances</a>():<A HREF="../../../Root/XCore/Object/index.html">Seq(Object)<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#allInstances_OLD">allInstances_OLD</a>():<A HREF="../../../Root/XCore/Object/index.html">Seq(Object)<A></B></TD><TD>
      Return a list of all objects o for which o.of().inheritsFrom(self)
    </TD></TR>
<TR><TD><B><a href="#allSubclasses">allSubclasses</a>():<A HREF="../../../Root/XCore/Object/index.html">Seq(Object)<A></B></TD><TD>
      Return a list of all classes c for which c.inheritsFrom(self)
    </TD></TR>
<TR><TD><B><a href="#createXToolDiagramTypeDefinition">createXToolDiagramTypeDefinition</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#defaultParents">defaultParents</a>():<A HREF="../../../Root/XCore/Classifier/index.html">Set(Classifier)<A></B></TD><TD>
      When a class is created its parents may not be specified
      as part of the definition. The meta-class that is instantiated
      can specify the default super-classes of the new class using
      this operation. It is automatically called when the new
      class is initialised. It is a useful way of stating that all
      classes of a given type must inherit from a collection of
      super-classes. The default is Object.
    </TD></TR>
<TR><TD><B><a href="#deleteRecursive">deleteRecursive</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#dependencies">dependencies</a>():<A HREF="../../../Root/XCore/Element/index.html">Set(Element)<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#deployEcore">deployEcore</a>(out:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,package:<A HREF="../../../Root/XCore/Package/index.html">Package<A>,path:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#deployJava">deployJava</a>(deployDir:<A HREF="../../../Root/XCore/String/index.html">String<A>,package:<A HREF="../../../Root/XCore/Package/index.html">Package<A>,pname:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#deployJavaHook">deployJavaHook</a>(out:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>,package:<A HREF="../../../Root/XCore/Package/index.html">Package<A>,pname:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#deployJavaImplementsHook">deployJavaImplementsHook</a>(out:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>,package:<A HREF="../../../Root/XCore/Package/index.html">Package<A>,pname:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#deployJavaSerializer">deployJavaSerializer</a>(out:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>,package:<A HREF="../../../Root/XCore/Package/index.html">Package<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#deployXOCL">deployXOCL</a>(dir:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#doubleClick">doubleClick</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#eCoreParents">eCoreParents</a>(path:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/String/index.html">String<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#eCoreRef">eCoreRef</a>(path:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/String/index.html">String<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#editDefinition">editDefinition</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#getAttribute">getAttribute</a>(name:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/Attribute/index.html">Attribute<A></B></TD><TD>
      Get an attribute using its name. Be aware that atttibutes, like
      all instances of NamedElement use symbols for names. The name
      argument supplied to 'getAttribute' can be a string or a symbol.
    </TD></TR>
<TR><TD><B><a href="#getChildren">getChildren</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#getConstructor">getConstructor</a>(arity:<A HREF="../../../Root/XCore/Integer/index.html">Integer<A>):<A HREF="../../../Root/XCore/Constructor/index.html">Constructor<A></B></TD><TD>
      Return the most specific constructor with the given arity
      or null if no constructor exists.
    </TD></TR>
<TR><TD><B><a href="#getInstanceSlot">getInstanceSlot</a>(object:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,name:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      Part of the MOP. Redefine in sub-classes to implement a specific
      slot access protocol.
    </TD></TR>
<TR><TD><B><a href="#getResourceName">getResourceName</a>():<A HREF="../../../Root/XCore/String/index.html">String<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#graphVizNode">graphVizNode</a>(browser:<A HREF="../../../Root/GraphViz/DiagramBrowser/index.html">DiagramBrowser<A>,gv:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#hasAttribute">hasAttribute</a>(name:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/Boolean/index.html">Boolean<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#hasInstanceSlot">hasInstanceSlot</a>(object:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,name:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      Part of the MOP. Redefine in sub-classes to implement a specific
      slot existence protocol.
    </TD></TR>
<TR><TD><B><a href="#init">init</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      Initialise a class by initialising the attributes and then 
      initialising as a classifier.
    </TD></TR>
<TR><TD><B><a href="#isMetaClass">isMetaClass</a>():<A HREF="../../../Root/XCore/Boolean/index.html">Boolean<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#javaAttributes">javaAttributes</a>(package:<A HREF="../../../Root/XCore/Package/index.html">Package<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#lift">lift</a>():<A HREF="../../../Root/XCore/Performable/index.html">Performable<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#matchXMLComplexAttributes">matchXMLComplexAttributes</a>(attributes:<A HREF="../../../Root/XML/Parser/Attribute/index.html">Seq(Attribute)<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#new">new</a>():<A HREF="../../../Root/XCore/Object/index.html">Object<A></B></TD><TD>
      Create a new instance of a class. Each attribute becomes a slot
      in the new instance and the values of the slots are the default
      values of the corresponding attributes. Once the new object has 
      been created, it is sent an 'init/0' message. Therefore, objects
      are initialised on a type-by-type basis. Note that there are two
      versions of 'new': this one 'new/0' that takes no arguments and
      uses 'init/0' to initialise the object; 'new/1' that takes
      initialisation arguments. In general, avoid using 'new' to
      instantiate classes and apply the class to initialisation arguments
      instead.
    </TD></TR>
<TR><TD><B><a href="#newAttributeHandler">newAttributeHandler</a>(type:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#newAuxiliaryTypeHandler">newAuxiliaryTypeHandler</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#newConstructor">newConstructor</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#newOtherAttributeHandler">newOtherAttributeHandler</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#newOtherAttributeHandler_Old">newOtherAttributeHandler_Old</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#remove">remove</a>(n:<A HREF="../../../Root/XCore/NamedElement/index.html">NamedElement<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>
      Exte-nd the behaviour inherited from Classifier by
      taking attributes into account. The argument is a named
      element to be removed from the receiver.
    </TD></TR>
<TR><TD><B><a href="#removeAttribute">removeAttribute</a>(a:<A HREF="../../../Root/XCore/Attribute/index.html">Attribute<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>
      Remove an attribute supplied as an argument. Use 'remove/1'
      in preference to this operation.
    </TD></TR>
<TR><TD><B><a href="#removeConstructor">removeConstructor</a>(c:<A HREF="../../../Root/XCore/Constructor/index.html">Constructor<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#repopulate">repopulate</a>(namedElement:<A HREF="../../../Root/XCore/NamedElement/index.html">NamedElement<A>):<A HREF="../../../Root/XCore/Boolean/index.html">Boolean<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#setInstanceSlot">setInstanceSlot</a>(object:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,name:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,value:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      Part of the MOP. Redefine in sub-classes to implement a specific
      slot update protocol.
    </TD></TR>
<TR><TD><B><a href="#setResourceName">setResourceName</a>(name:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#toHTMLDoc">toHTMLDoc</a>(fout:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#toHTMLDoc">toHTMLDoc</a>(fout:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>,showOpBody:<A HREF="../../../Root/XCore/Boolean/index.html">Boolean<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#toType">toType</a>(args:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#toXMLClause">toXMLClause</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeXMLFactoryMethod">writeXMLFactoryMethod</a>(out:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeXMLFactoryMethodArgs">writeXMLFactoryMethodArgs</a>(out:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeXMLFactoryMethodBody">writeXMLFactoryMethodBody</a>(out:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeXMLFactoryMethodBodyUpdateCollection">writeXMLFactoryMethodBodyUpdateCollection</a>(out:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>,attribute:<A HREF="../../../Root/XML/Parser/Attribute/index.html">Attribute<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeXMLFactoryMethodBodyUpdateDataTypeSlot">writeXMLFactoryMethodBodyUpdateDataTypeSlot</a>(out:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>,attribute:<A HREF="../../../Root/XML/Parser/Attribute/index.html">Attribute<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeXMLFactoryMethodBodyUpdatePossibleRef">writeXMLFactoryMethodBodyUpdatePossibleRef</a>(out:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>,attribute:<A HREF="../../../Root/XML/Parser/Attribute/index.html">Attribute<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeXMLFactoryMethodBodyUpdates">writeXMLFactoryMethodBodyUpdates</a>(out:<A HREF="../../../Root/IO/OutputChannel/index.html">OutputChannel<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR>
<TD COLSPAN=2>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../Root/XCore/Classifier/index.html">Classifier</A>: add, add, addConstraint, addGrammar, addOperation, addParent, allConstraints, allOperations, allParents, availableParents, checkParents, classify, default, defaultParents, dependencies, diagramToolDescriptors, dropInClassDiagram, formToolDescriptors, getConstraint, getOperation, getOperation, grammar, hasOperation, inheritsFrom, init, initConstraints, initOperations, initParents, initialized, invoke, javaTypeName, mapType, new, new, newConstraint, newOperation, newOtherOperation, remove, removeConstraint, removeOperation, removeParent, repopulate, sendInstance, sendInstance, setParents_client, shadowOperation, target, toHTML, toType, toolDescriptors, typeDistance. <BR><B>From</B> <A HREF="../../../Root/XCore/NameSpace/index.html">NameSpace</A>: add, addBinding, addImport, allHTMLEntries, allHTMLPackages, allImports, createSnapshot, define, generateHTML, getChildren, getContents, getElement, getInstantiableClasses, graphViz, hasBinding, hasElement, importedFrom, imports, init, init, initBindings, lift, liveDoc, lookupPath, nameChanged, names, newName, populateGraphViz, putElement, redefine, remove, removeBinding, removeImport, resolveNameClash, syntaxClasses, toGraphVizPage, toHTML, toHTMLDoc, toType, writeEcore. <BR><B>From</B> <A HREF="../../../Root/XCore/IndexedContainer/index.html">IndexedContainer</A>: add, add, addContentDaemon, contentDaemons, contents, index, indices, init, initContents, remove, removeContentDaemon. <BR><B>From</B> <A HREF="../../../Root/XCore/NamedElement/index.html">NamedElement</A>: getNamedElement, href, labelString, legalNameChangeCheck, name, path, pathSeq, repopulate, setName, toString. <BR><B>From</B> <A HREF="../../../Root/XCore/DocumentedElement/index.html">DocumentedElement</A>: doc, ensureDoc, setDoc. <BR><B>From</B> <A HREF="../../../Root/XCore/Container/index.html">Container</A>: add, addContentDaemon, allContents, allContentsOf, allContentsThat, checkConstraints, checkConstraints, containerCutHandler, containerPastePostHandler, containerPastePreHandler, contentDaemons, contents, contentsOf, contentsThat, deleteContainedDiagrams, deleteRecursive, find, getChildren, getChildrenToolTips, includes, init, initContents, loadXTO, remove, removeContentDaemon, traceAll, untraceAll. <BR><B>From</B> <A HREF="../../../Root/XCore/Contained/index.html">Contained</A>: addTo, allOwners, deleteRecursive, delete_client, delete_client_check, delete_client_redirect, getDefaultClipboardSource, owner, removeFromOwner, setOwner. <BR><B>From</B> <A HREF="../../../Root/XCore/Object/index.html">Object</A>: addDaemon, addDiagramListener, addMissingSlot, addMultiDaemon, addPersistentDaemon, addStructuralFeature, allCompositeValues, allCompositeValuesAndSelf, allDaemonsWithId, allDaemonsWithTarget, applyMapping_client, calcChildrenSlots, changedOnDiagram, compositeValues, daemonNamed, daemonWithId, daemonWithIdAndTarget, daemons, daemonsActive, destroyDaemon, edit, fire, get, getAvailableMappings, getChildren, getChildrenSlots, getChildrenToolTips, getDiagramListenerNamed, getDiagramListeners, getProperties, getProperty, getStructuralFeatureNames, hasDaemonNamed, hasDaemonWithId, hasDaemonWithIdAndTarget, hasDaemonWithTarget, hasProperty, hasSlot, hasStructuralFeature, hotLoad, hotLoaded, ignoreBy, ignoreByAll, init, initSlots, machineInit, nodeEvent, observeBy, observeBy, observedBy, observedBy, oldEdit, orderSequence, orderSequence, propertyTarget, removeDaemon, removeDaemonNamed, removeDaemonsWithId, removeDaemonsWithTarget, removeDiagramListener, removeDiagramListeners, removeStructuralFeature, renameSlot, saveXTO, saveXTOFile, set, setDaemons, setDaemonsActive, setHotLoad, setProperty, showAndLayoutDiagram, showDiagram, slotDenied, slotMissing, slotMissing, slots, synchronise. <BR><B>From</B> <A HREF="../../../Root/XCore/Element/index.html">Element</A>: addTo, allHTMLEntries, allHTMLPackages, assignToGlobal, assignToGlobal, browse, browse_redirect, checkConstraints, copy, copyToClipboard, copyToClipboard_transaction, createDiagram, createDiagramType, createDiagramType, createDiagramType, createTool, cutToClipboard, cutToClipboard_transaction, deleteRecursive, deployXML, die, doc, doubleClick, edit, edit_redirect, equals, error, evaluateExpression, ferror, getChildren, getChildrenToolTips, getDefaultClipboardSource, getDefaultClipboardTarget, graphVizNode, hashCode, init, init, invokeOp, isDeleteProtected, isKindOf, isProtected, isReallyKindOf, isTypeOf, isViewProtected, isWithinNameSpace, labelString, legalNameChangeCheck, legalSlotChangeCheck, legalSlotChangeCheck, lift, nameString, noOperationFound, oclIsKindOf, oclIsTypeOf, of, oldShowDiagram, pasteFromClipboard, populateGraphViz, pprint, pprint, pprint, pprintln, print, println, removeDaemon, removeDaemon, save, save2, selectDiagram, selectModelBrowserNode, send, setDelegation, setOf, setRoleFillerDialog, showAndLayoutDiagram, showDiagram, showModelBrowserNode, slotAffectsLabel, systemId, toHTML, toSVG, toSnapshot, toSnapshot, toString, toType, writeHTML, writeHTML, writeHTMLAllEntries, writeHTMLAllPackages, writeHTMLIndex, writeHTMLOverview, writeXML, writeXMLFile, yield. <BR><TR><TD COLSPAN=2><a name="VMNew"/><FONT FACE="Courier" SIZE="1">@Operation&#160;VMNew():XCore::Element<br>&#160;&#160;if&#160;Kernel_objIsNotVMNew(self)<br>&#160;&#160;then&#160;false<br>&#160;&#160;else&#160;let&#160;init_1&#160;=&#160;self.getOperation("init",1);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;init_0&#160;=&#160;self.getOperation("init",0)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;init_1.owner()&#160;=&#160;Object&#160;andthen&#160;init_0.owner()&#160;=&#160;Element&#160;andthen&#160;self.allConstructors()-&gt;forAll(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.body()&#160;=&#160;null)&#160;andthen&#160;self.allAttributes()-&gt;forAll(a&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;a.isStatic())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;C&#160;=&#160;self.allConstructors()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;Kernel_setConstructorArgs(self,C-&gt;collect(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.names-&gt;collect(n&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Symbol(n))))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;Kernel_objSetNotVMNew(self,true)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="add"/><FONT FACE="Courier" SIZE="1">@Operation&#160;add(n&#160;:&#160;Element):Classifier<br>&#160;&#160;if&#160;n.isKindOf(Attribute)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.addAttribute(n);<br>&#160;&#160;&#160;&#160;super(n)<br>&#160;&#160;elseif&#160;n.isKindOf(Constructor)<br>&#160;&#160;then&#160;self.addConstructor(n)<br>&#160;&#160;else&#160;super(n)<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="addAttribute"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addAttribute(a&#160;:&#160;Attribute):Classifier<br>&#160;&#160;self.resolveNameClash(a.name,attributes);<br>&#160;&#160;a.setOwner(self);<br>&#160;&#160;self.attributes&#160;:=&#160;attributes-&gt;including(a);<br>&#160;&#160;self<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="addConstructor"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addConstructor(c&#160;:&#160;Constructor):Element<br>&#160;&#160;c.setOwner(self);<br>&#160;&#160;self.constructors&#160;:=&#160;constructors&#160;+&#160;Seq{c}<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="addDelayed"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addDelayed(o&#160;:&#160;Operation):XCore::Element<br>&#160;&#160;self.add(o.invoke(self,Seq{}))<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="addOperation"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addOperation(o&#160;:&#160;XCore::Element):Classifier<br>&#160;&#160;if&#160;o.name&#160;=&#160;"expander"<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.expander&#160;:=&#160;o;<br>&#160;&#160;&#160;&#160;self<br>&#160;&#160;else&#160;super(o)<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="allAttributes"/><FONT FACE="Courier" SIZE="1">@Operation&#160;allAttributes():Set(Attribute)<br>&#160;&#160;let&#160;allA&#160;=&#160;attributes;<br>&#160;&#160;&#160;&#160;&#160;&#160;allP&#160;=&#160;parents<br>&#160;&#160;in&#160;@While&#160;not&#160;allP-&gt;isEmpty&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;p&#160;=&#160;allP-&gt;sel<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;allA&#160;:=&#160;allA-&gt;union(p.attributes);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;allP&#160;:=&#160;allP-&gt;excluding(p)-&gt;union(p.parents)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;allA<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="allClasses"/><FONT FACE="Courier" SIZE="1">@Operation&#160;allClasses():Set(Object)<br>&#160;&#160;let&#160;list&#160;=&#160;Class.allDirectInstances();<br>&#160;&#160;&#160;&#160;&#160;&#160;oldSize&#160;=&#160;0&#160;-&#160;1<br>&#160;&#160;in&#160;@While&#160;not&#160;list.size()&#160;=&#160;oldSize&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;oldSize&#160;:=&#160;list.size();<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;metaClasses&#160;=&#160;list.asSet()-&gt;select(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.inheritsFrom(Class)).asSeq()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;list&#160;:=&#160;Kernel_allInstances(metaClasses)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;list<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="allConstructors"/><FONT FACE="Courier" SIZE="1">@Operation&#160;allConstructors():Seq(Constructor)<br>&#160;&#160;parents-&gt;iterate(p&#160;C&#160;=&#160;constructors&#160;|<br>&#160;&#160;&#160;&#160;C&#160;+&#160;p.allConstructors())<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="allDirectInstances"/><FONT FACE="Courier" SIZE="1">@Operation&#160;allDirectInstances():Seq(Object)<br>&#160;&#160;Kernel_allInstances(Seq{self})<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="allInstances"/><FONT FACE="Courier" SIZE="1">@Operation&#160;allInstances():Seq(Object)<br>&#160;&#160;Kernel_allInstances(Kernel_allSubClasses(self))<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="allInstances_OLD"/><FONT FACE="Courier" SIZE="1">@Operation&#160;allInstances_OLD():Seq(Object)<br>&#160;&#160;Kernel_allInstances(self.allSubclasses())<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="allSubclasses"/><FONT FACE="Courier" SIZE="1">@Operation&#160;allSubclasses():Seq(Object)<br>&#160;&#160;self.allClasses()-&gt;select(c&#160;|<br>&#160;&#160;&#160;&#160;c.inheritsFrom(self)).asSeq()<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="createXToolDiagramTypeDefinition"/><FONT FACE="Courier" SIZE="1">@Operation&#160;createXToolDiagramTypeDefinition():XCore::Element<br>&#160;&#160;let&#160;def&#160;=&#160;RootElementType(self)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;defName&#160;=&#160;def.changeName()<br>&#160;&#160;in&#160;if&#160;defName&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;Tools::Basic::showXToolsBrowser();<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;xmf.toolBrowser().definitionManager().addDefinition(def);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;def.initRefNameSpace();<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;def.edit()<br>&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="defaultParents"/><FONT FACE="Courier" SIZE="1">@Operation&#160;defaultParents():Set(Classifier)<br>&#160;&#160;Set{Object}<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="deleteRecursive"/><FONT FACE="Courier" SIZE="1">@Operation&#160;deleteRecursive():XCore::Element<br>&#160;&#160;super();<br>&#160;&#160;@For&#160;c&#160;in&#160;self.constructors&#160;do<br>&#160;&#160;&#160;&#160;c.deleteRecursive()<br>&#160;&#160;end;<br>&#160;&#160;self<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="dependencies"/><FONT FACE="Courier" SIZE="1">@Operation&#160;dependencies():Set(Element)<br>&#160;&#160;attributes-&gt;iterate(a&#160;D&#160;=&#160;Set{}&#160;|<br>&#160;&#160;&#160;&#160;D&#160;+&#160;a.dependencies())&#160;+&#160;super()<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="deployEcore"/><FONT FACE="Courier" SIZE="1">@Operation&#160;deployEcore(out&#160;:&#160;OutputChannel,package&#160;:&#160;Package,path&#160;:&#160;String):XCore::Element<br>&#160;&#160;if&#160;parents-&gt;forAll(p&#160;|<br>&#160;&#160;&#160;&#160;p&#160;=&#160;Object)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;null;<br>&#160;&#160;&#160;&#160;format(out,"&lt;~S",Seq{"eClassifiers"});<br>&#160;&#160;&#160;&#160;format(out,"&#160;~S=&apos;~S&apos;",Seq{"xsi:type","ecore:EClass"});<br>&#160;&#160;&#160;&#160;format(out,"&#160;~S=&apos;~S&apos;",Seq{"name",name});<br>&#160;&#160;&#160;&#160;format(out,"&gt;");<br>&#160;&#160;&#160;&#160;null;<br>&#160;&#160;&#160;&#160;@For&#160;attribute&#160;in&#160;attributes&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;attribute.deployEcore(out,package,path)<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;format(out,"&lt;/~S&gt;",Seq{"eClassifiers"})<br>&#160;&#160;else<br>&#160;&#160;&#160;&#160;null;<br>&#160;&#160;&#160;&#160;format(out,"&lt;~S",Seq{"eClassifiers"});<br>&#160;&#160;&#160;&#160;format(out,"&#160;~S=&apos;~S&apos;",Seq{"xsi:type","ecore:EClass"});<br>&#160;&#160;&#160;&#160;format(out,"&#160;~S=&apos;~S&apos;",Seq{"name",name});<br>&#160;&#160;&#160;&#160;format(out,"&#160;~S=&apos;~S&apos;",Seq{"eSuperTypes",(self.eCoreParents(path))});<br>&#160;&#160;&#160;&#160;format(out,"&gt;");<br>&#160;&#160;&#160;&#160;null;<br>&#160;&#160;&#160;&#160;@For&#160;attribute&#160;in&#160;attributes&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;attribute.deployEcore(out,package,path)<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;format(out,"&lt;/~S&gt;",Seq{"eClassifiers"})<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="deployJava"/><FONT FACE="Courier" SIZE="1">@Operation&#160;deployJava(deployDir&#160;:&#160;String,package&#160;:&#160;Package,pname&#160;:&#160;String):XCore::Element<br>&#160;&#160;@WithOpenFile(fout&#160;-&gt;&#160;deployDir&#160;+&#160;"/"&#160;+&#160;name&#160;+&#160;".java")<br>&#160;&#160;&#160;&#160;format(fout,"package&#160;~S;~%~%",Seq{pname});<br>&#160;&#160;&#160;&#160;if&#160;parents-&gt;select(p&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;package.classes-&gt;includes(p))-&gt;isEmpty<br>&#160;&#160;&#160;&#160;then&#160;format(fout,"public&#160;class&#160;~S&#160;",Seq{name})<br>&#160;&#160;&#160;&#160;else&#160;format(fout,"public&#160;class&#160;~S&#160;extends&#160;~S&#160;",Seq{name,parents-&gt;sel.name})<br>&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;self.deployJavaImplementsHook(fout,package,pname);<br>&#160;&#160;&#160;&#160;format(fout,"{~%~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;//&#160;Attributes...~%~%");<br>&#160;&#160;&#160;&#160;@For&#160;attribute&#160;in&#160;self.javaAttributes(package)&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;attribute.deployJava(fout,package)<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;format(fout,"~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;//&#160;Accessors...~%~%");<br>&#160;&#160;&#160;&#160;@For&#160;attribute&#160;in&#160;self.javaAttributes(package)&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;attribute.deployAccessor(fout,package)<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;format(fout,"~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;//&#160;Updaters...~%~%");<br>&#160;&#160;&#160;&#160;@For&#160;attribute&#160;in&#160;self.javaAttributes(package)&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;attribute.deployUpdater(fout,package)<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;format(fout,"~%");<br>&#160;&#160;&#160;&#160;self.deployJavaHook(fout,package,pname);<br>&#160;&#160;&#160;&#160;format(fout,"&#160;//&#160;Display...~%~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;public&#160;String&#160;toString()&#160;{~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;String&#160;s&#160;=&#160;"~S[";~%",Seq{name});<br>&#160;&#160;&#160;&#160;@For&#160;attribute&#160;in&#160;self.allAttributes()&#160;when&#160;attribute.underlyingType().isKindOf(DataType)&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;s&#160;=&#160;s&#160;+&#160;"~S="&#160;+&#160;~S();~%",Seq{attribute.name,attribute.name});<br>&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;isLast<br>&#160;&#160;&#160;&#160;&#160;&#160;then&#160;format(fout,"&#160;&#160;&#160;&#160;s&#160;=&#160;s&#160;+&#160;",";~%")<br>&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;return&#160;s&#160;+&#160;"]";~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;}~%~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;//&#160;Operation&#160;stubs...~%~%");<br>&#160;&#160;&#160;&#160;@For&#160;operation&#160;in&#160;operations&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;operation.deployJava(fout);<br>&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;isLast<br>&#160;&#160;&#160;&#160;&#160;&#160;then&#160;format(fout,"~%")<br>&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;self.deployJavaSerializer(fout,package);<br>&#160;&#160;&#160;&#160;format(fout,"}~%")<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="deployJavaHook"/><FONT FACE="Courier" SIZE="1">@Operation&#160;deployJavaHook(out&#160;:&#160;OutputChannel,package&#160;:&#160;Package,pname&#160;:&#160;String):XCore::Element<br>&#160;&#160;null<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="deployJavaImplementsHook"/><FONT FACE="Courier" SIZE="1">@Operation&#160;deployJavaImplementsHook(out&#160;:&#160;OutputChannel,package&#160;:&#160;Package,pname&#160;:&#160;String):XCore::Element<br>&#160;&#160;null<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="deployJavaSerializer"/><FONT FACE="Courier" SIZE="1">@Operation&#160;deployJavaSerializer(out&#160;:&#160;OutputChannel,package&#160;:&#160;Package):XCore::Element<br>&#160;&#160;format(out,"&#160;//&#160;XML&#160;Serialization...~%~%");<br>&#160;&#160;format(out,"&#160;&#160;public&#160;void&#160;writeXML(java.io.PrintStream&#160;out,java.util.Hashtable&#160;idTable)&#160;{~%");<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;if(idTable.containsKey(this))~%");<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&lt;Ref&#160;id=&apos;"&#160;+&#160;idTable.get(this)&#160;+&#160;"&apos;/&gt;");~%");<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;else&#160;{~%");<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;String&#160;id&#160;=&#160;Integer.toHexString(this.hashCode()).toUpperCase();~%");<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&lt;Object&#160;id=&apos;"&#160;+&#160;id&#160;+&#160;"&apos;");~%");<br>&#160;&#160;@For&#160;attribute&#160;in&#160;self.allAttributes()&#160;when&#160;attribute.underlyingType().isKindOf(DataType)&#160;do<br>&#160;&#160;&#160;&#160;@Case&#160;attribute.underlyingType()&#160;of<br>&#160;&#160;&#160;&#160;&#160;&#160;[&#160;Integer&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&#160;~S=&apos;I:"&#160;+&#160;this.~S&#160;+&#160;"&apos;");~%",Seq{attribute.name,attribute.name})<br>&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;[&#160;Boolean&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&#160;~S=&apos;B:"&#160;+&#160;this.~S&#160;+&#160;"&apos;");~%",Seq{attribute.name,attribute.name})<br>&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;[&#160;String&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&#160;~S=&apos;S:"&#160;+&#160;this.~S&#160;+&#160;"&apos;");~%",Seq{attribute.name,attribute.name})<br>&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;else&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&#160;~S=&apos;"&#160;+&#160;this.~S&#160;+&#160;"&apos;");~%",Seq{attribute.name,attribute.name})<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;end;<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&gt;");~%");<br>&#160;&#160;@For&#160;attribute&#160;in&#160;self.allAttributes()-&gt;asSeq-&gt;sortNamedElements&#160;when&#160;not&#160;attribute.underlyingType().isKindOf(DataType)&#160;do<br>&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&lt;Slot&#160;name=&apos;~S&apos;&gt;");~%",Seq{attribute.name()});<br>&#160;&#160;&#160;&#160;@Case&#160;attribute.type&#160;of<br>&#160;&#160;&#160;&#160;&#160;&#160;Set[]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&lt;Set&gt;");~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;for(int&#160;i&#160;=&#160;0;&#160;i&#160;&lt;&#160;~S.size();&#160;i++)&#160;{~%",Seq{attribute.name()});<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;~S&#160;o&#160;=&#160;(~S)~S.elementAt(i);~%",Seq{attribute.underlyingType().name(),attribute.underlyingType().name(),attribute.name()});<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;o.writeXML(out,idTable);~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;}~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&lt;/Set&gt;");~%")<br>&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;Seq[]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&lt;List&gt;");~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;for(int&#160;i&#160;=&#160;0;&#160;i&#160;&lt;&#160;~S.size();&#160;i++)&#160;{~%",Seq{attribute.name()});<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;~S&#160;o&#160;=&#160;(~S)~S.elementAt(i);~%",Seq{attribute.underlyingType().name(),attribute.underlyingType().name(),attribute.name()});<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;o.writeXML(out,idTable);~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;}~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&lt;/List&gt;");~%")<br>&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;else&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if(~S&#160;==&#160;null)&#160;out.print("&lt;Null/&gt;");&#160;else&#160;~S.writeXML(out,idTable);~%",Seq{attribute.name(),attribute.name()})<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&lt;/Slot&gt;");~%")<br>&#160;&#160;end;<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;out.print("&lt;/Object&gt;");~%");<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;}~%");<br>&#160;&#160;format(out,"&#160;&#160;}~%")<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="deployXOCL"/><FONT FACE="Courier" SIZE="1">@Operation&#160;deployXOCL(dir&#160;:&#160;String):XCore::Element<br>&#160;&#160;try<br>&#160;&#160;&#160;&#160;@WithOpenFile(fout&#160;-&gt;&#160;dir&#160;+&#160;"/"&#160;+&#160;self.name()&#160;+&#160;".xmf")<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"parserImport&#160;XOCL;~%~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"import&#160;~{::~;~S~};~%~%",Seq{self.owner().pathSeq()});<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"context&#160;!&#160;~{::~;~S~}~%~%",Seq{self.owner().pathSeq()});<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;@Class&#160;~S&#160;",Seq{name});<br>&#160;&#160;&#160;&#160;&#160;&#160;if&#160;self.of()&#160;&lt;&gt;&#160;XCore::Class<br>&#160;&#160;&#160;&#160;&#160;&#160;then&#160;format(fout,"metaclass&#160;~S&#160;",Seq{self.of().path()})<br>&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;&#160;if&#160;isAbstract<br>&#160;&#160;&#160;&#160;&#160;&#160;then&#160;format(fout,"isabstract&#160;")<br>&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;&#160;if&#160;parents-&gt;exists(p&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;p&#160;&lt;&gt;&#160;XCore::Object)<br>&#160;&#160;&#160;&#160;&#160;&#160;then&#160;format(fout,"extends&#160;~{,~;~S~}",Seq{parents-&gt;map("name")-&gt;asSeq})<br>&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"~%~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;@For&#160;a&#160;in&#160;attributes&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;a.deployXOCL(fout);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"~%~%")<br>&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;@For&#160;o&#160;in&#160;operations&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;o.deployXOCL(dir)<br>&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;end~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;fout.close()<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;catch(exception)<br>&#160;&#160;&#160;&#160;format(stdout,"Error&#160;writing&#160;class&#160;source:&#160;~S~%",Seq{exception})<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="doubleClick"/><FONT FACE="Courier" SIZE="1">@Operation&#160;doubleClick():XCore::Element<br>&#160;&#160;if&#160;resourceName&#160;&lt;&gt;&#160;""<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;xmf.editHomeFile(resourceName);<br>&#160;&#160;&#160;&#160;super()<br>&#160;&#160;else&#160;super()<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="eCoreParents"/><FONT FACE="Courier" SIZE="1">@Operation&#160;eCoreParents(path&#160;:&#160;String):String<br>&#160;&#160;parents-&gt;asSeq-&gt;collect(p&#160;|<br>&#160;&#160;&#160;&#160;p.eCoreRef(path))-&gt;separateWith("&#160;")<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="eCoreRef"/><FONT FACE="Courier" SIZE="1">@Operation&#160;eCoreRef(path&#160;:&#160;String):String<br>&#160;&#160;owner.writeEcore(path);<br>&#160;&#160;"ecore:EClass&#160;"&#160;+&#160;owner.name()&#160;+&#160;".ecore#//"&#160;+&#160;name<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="editDefinition"/><FONT FACE="Courier" SIZE="1">@Operation&#160;editDefinition():XCore::Element<br>&#160;&#160;if&#160;self.getResourceName()&#160;=&#160;""<br>&#160;&#160;then&#160;format(stdout,"No&#160;recorded&#160;resource&#160;for&#160;~S~%",Seq{self})<br>&#160;&#160;else&#160;xmf.editHomeFile(self.getResourceName())<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="getAttribute"/><FONT FACE="Courier" SIZE="1">@Operation&#160;getAttribute(name&#160;:&#160;String):Attribute<br>&#160;&#160;let&#160;attribute&#160;=&#160;null;<br>&#160;&#160;&#160;&#160;&#160;&#160;A&#160;=&#160;attributes-&gt;asSeq;<br>&#160;&#160;&#160;&#160;&#160;&#160;P&#160;=&#160;parents-&gt;asSeq;<br>&#160;&#160;&#160;&#160;&#160;&#160;name&#160;=&#160;name.toString()<br>&#160;&#160;in&#160;@While&#160;not&#160;A-&gt;isEmpty&#160;and&#160;attribute&#160;=&#160;null&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;A-&gt;head.name.name&#160;=&#160;name<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;attribute&#160;:=&#160;A-&gt;head<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;A&#160;:=&#160;A-&gt;tail<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;@While&#160;not&#160;P-&gt;isEmpty&#160;and&#160;attribute&#160;=&#160;null&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;attribute&#160;:=&#160;P-&gt;head.getAttribute(name);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;P&#160;:=&#160;P-&gt;tail<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;attribute<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="getChildren"/><FONT FACE="Courier" SIZE="1">@Operation&#160;getChildren():XCore::Element<br>&#160;&#160;super()&#160;+&#160;self.constructors<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="getConstructor"/><FONT FACE="Courier" SIZE="1">@Operation&#160;getConstructor(arity&#160;:&#160;Integer):Constructor<br>&#160;&#160;let&#160;cnstrs&#160;=&#160;self.allConstructors()-&gt;select(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.names-&gt;size&#160;=&#160;arity)<br>&#160;&#160;in&#160;if&#160;cnstrs-&gt;isEmpty<br>&#160;&#160;&#160;&#160;&#160;then&#160;null<br>&#160;&#160;&#160;&#160;&#160;else&#160;cnstrs-&gt;head<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="getInstanceSlot"/><FONT FACE="Courier" SIZE="1">@Operation&#160;getInstanceSlot(object&#160;:&#160;XCore::Element,name&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;Kernel_setDefaultGetMOP(object.of(),true);<br>&#160;&#160;Kernel_getSlotValue(object,name)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="getResourceName"/><FONT FACE="Courier" SIZE="1">@Operation&#160;getResourceName():String<br>&#160;&#160;resourceName<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="graphVizNode"/><FONT FACE="Courier" SIZE="1">@Operation&#160;graphVizNode(browser&#160;:&#160;DiagramBrowser,gv&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;let&#160;node&#160;=&#160;gv.addNode(name.toString())&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;box&#160;=&#160;node.addVBox()<br>&#160;&#160;in&#160;node.setURL("class:"&#160;+&#160;self.path());<br>&#160;&#160;&#160;&#160;&#160;if&#160;self.inheritsFrom(Classifier)<br>&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;node.setShape("box");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;node.setStyle("dashed")<br>&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;if&#160;self.inheritsFrom(Class)<br>&#160;&#160;&#160;&#160;&#160;then&#160;node.setStyle("solid")<br>&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;box.setCellBorder(1);<br>&#160;&#160;&#160;&#160;&#160;if&#160;self.doc()&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;then&#160;node.setDoc(self.doc().doc)<br>&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;let&#160;row&#160;=&#160;box.addRow()<br>&#160;&#160;&#160;&#160;&#160;in&#160;row.setCellPadding(4);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;box.addText(name.toString())<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;box.addRow();<br>&#160;&#160;&#160;&#160;&#160;addClassAttributes(self,browser,box,gv);<br>&#160;&#160;&#160;&#160;&#160;box.addRow();<br>&#160;&#160;&#160;&#160;&#160;addClassOperations(self,browser,box,gv);<br>&#160;&#160;&#160;&#160;&#160;addClassAssociations(self,browser,gv)<br>&#160;&#160;end;<br>&#160;&#160;@For&#160;super&#160;in&#160;parents&#160;when&#160;not&#160;(Seq{Class,Classifier,Object}.contains(super))&#160;do<br>&#160;&#160;&#160;&#160;if&#160;browser.element.contents()-&gt;contains(super)<br>&#160;&#160;&#160;&#160;then&#160;if&#160;browser.canShowClass(super)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;edge&#160;=&#160;gv.addEdge(name.toString(),super.name.toString())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;edge.setArrowhead("empty")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;elseif&#160;browser.element.imports(super)<br>&#160;&#160;&#160;&#160;then&#160;if&#160;browser.canShowImportedClass(browser.element.importedFrom(super),super)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;edge&#160;=&#160;gv.addEdge(name.toString(),super.name.toString())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;edge.setArrowhead("empty")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;else&#160;let&#160;edge&#160;=&#160;gv.addEdge(name.toString(),super.name.toString())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;edge.setArrowhead("empty");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;addExternalClass(super,browser,gv)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="hasAttribute"/><FONT FACE="Courier" SIZE="1">@Operation&#160;hasAttribute(name&#160;:&#160;String):Boolean<br>&#160;&#160;self.attributes-&gt;exists(att&#160;|<br>&#160;&#160;&#160;&#160;att.name.toString()&#160;=&#160;name.toString())<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="hasInstanceSlot"/><FONT FACE="Courier" SIZE="1">@Operation&#160;hasInstanceSlot(object&#160;:&#160;XCore::Element,name&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;Kernel_hasSlot(object,name)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="init"/><FONT FACE="Courier" SIZE="1">@Operation&#160;init():Element<br>&#160;&#160;self.attributes-&gt;iterate(a&#160;ignore&#160;=&#160;null&#160;|<br>&#160;&#160;&#160;&#160;a.init());<br>&#160;&#160;super()<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="isMetaClass"/><FONT FACE="Courier" SIZE="1">@Operation&#160;isMetaClass():Boolean<br>&#160;&#160;self.inheritsFrom(Class)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="javaAttributes"/><FONT FACE="Courier" SIZE="1">@Operation&#160;javaAttributes(package&#160;:&#160;Package):XCore::Element<br>&#160;&#160;self.allAttributes()-&gt;select(a&#160;|<br>&#160;&#160;&#160;&#160;let&#160;type&#160;=&#160;a.underlyingType()<br>&#160;&#160;in&#160;package.classes-&gt;includes(type)&#160;or&#160;XCore.classes-&gt;includes(type)&#160;or&#160;type.isKindOf(DataType)<br>&#160;&#160;end)-&gt;reject(a&#160;|<br>&#160;&#160;&#160;&#160;a.owner()&#160;&lt;&gt;&#160;self&#160;and&#160;package.classes-&gt;includes(a.owner()))<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="lift"/><FONT FACE="Courier" SIZE="1">@Operation&#160;lift():Performable<br>&#160;&#160;let&#160;path&#160;=&#160;self.pathSeq()<br>&#160;&#160;in&#160;if&#160;path-&gt;size&#160;&gt;&#160;1&#160;andthen&#160;path-&gt;head&#160;=&#160;"Root"<br>&#160;&#160;&#160;&#160;&#160;then&#160;[|&#160;&lt;SetExp("Seq",path-&gt;collect(s&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s.lift()))&gt;.lookup()&#160;|]<br>&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;metaExp&#160;=&#160;Path::toPath(self.of().pathSeq());<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;parentExps&#160;=&#160;parents-&gt;asSeq-&gt;collect(p&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Path::toPath(p.pathSeq()));<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cnstrExps&#160;=&#160;constructors-&gt;asSeq-&gt;collect(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.lift());<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;attExps&#160;=&#160;attributes-&gt;asSeq-&gt;collect(a&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;a.lift());<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;opExps&#160;=&#160;operations-&gt;asSeq-&gt;collect(o&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;o.lift());<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;conExps&#160;=&#160;constraints-&gt;reject(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.isKindOf(Associations::End))-&gt;asSeq-&gt;collect(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.lift())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;XOCL::Class(name,metaExp,isAbstract,parentExps,cnstrExps&#160;+&#160;attExps&#160;+&#160;opExps&#160;+&#160;conExps)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="matchXMLComplexAttributes"/><FONT FACE="Courier" SIZE="1">@Operation&#160;matchXMLComplexAttributes(attributes&#160;:&#160;Seq(Attribute)):XCore::Element<br>&#160;&#160;let&#160;complexAttributes&#160;=&#160;attributes-&gt;select(a&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;not&#160;a.underlyingType().isKindOf(DataType))-&gt;asSeq<br>&#160;&#160;in&#160;complexAttributes-&gt;iterate(a&#160;p&#160;=&#160;Empty()&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;type&#160;=&#160;a.underlyingType();<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ref&#160;=&#160;Element("Ref",Seq{BindAtt("id")},Case(Seq{},Commands(Seq{Event("Ref",Seq{CommandVar("id")},true)})));<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Null&#160;=&#160;Element("Null",Seq{},Case(Seq{},Commands(Seq{Event("Null",Seq{},true)})))&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;disjunction&#160;=&#160;Or(Call(type.name().toString()),Or(Null,ref))&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bind&#160;=&#160;Bind(Seq{a.name()},let&#160;caseObj&#160;=&#160;a.type&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;caseObjType&#160;=&#160;caseObj.of()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;caseObjType&#160;=&#160;Set<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;Element("Set",Seq{},Case(Seq{},Star(disjunction)))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Seq<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;Element("List",Seq{},Case(Seq{},Star(disjunction)))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;disjunction<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)<br>&#160;&#160;&#160;&#160;&#160;in&#160;And(p,Element("Slot",Seq{},Case(Seq{},bind)))<br>&#160;&#160;&#160;&#160;&#160;end)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="new"/><FONT FACE="Courier" SIZE="1">@Operation&#160;new():Object<br>&#160;&#160;let&#160;o&#160;=&#160;Kernel_mkObj();<br>&#160;&#160;&#160;&#160;&#160;&#160;A&#160;=&#160;self.allAttributes()<br>&#160;&#160;in&#160;Kernel_setOf(o,self);<br>&#160;&#160;&#160;&#160;&#160;@While&#160;not&#160;A-&gt;isEmpty&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;a&#160;=&#160;A-&gt;sel<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;a.init&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;Kernel_addAtt(o,a.name,a.init.invoke(o,Seq{}))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;Kernel_addAtt(o,a.name,a.type.default())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;a.hasProperty("visibility")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;Kernel_setSlotVisibility(o,a.name,a.getProperty("visibility"))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;A&#160;:=&#160;A-&gt;excluding(a)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;if&#160;self.inheritsFrom(Classifier)<br>&#160;&#160;&#160;&#160;&#160;then&#160;o.parents&#160;:=&#160;o.defaultParents()<br>&#160;&#160;&#160;&#160;&#160;else&#160;o<br>&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;o.init()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="newAttributeHandler"/><FONT FACE="Courier" SIZE="1">@Operation&#160;newAttributeHandler(type&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;@Operation&#160;newAttribute():XCore::Element<br>&#160;&#160;&#160;&#160;let&#160;name&#160;=&#160;self.newName("att")&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;attribute&#160;=&#160;XCore::Attribute(name,type)<br>&#160;&#160;&#160;&#160;in&#160;self.add(attribute);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;attribute.init()<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="newAuxiliaryTypeHandler"/><FONT FACE="Courier" SIZE="1">@Operation&#160;newAuxiliaryTypeHandler():XCore::Element<br>&#160;&#160;@Operation&#160;newAuxiliaryType():XCore::Element<br>&#160;&#160;&#160;&#160;let&#160;tmp&#160;=&#160;Seq{}<br>&#160;&#160;&#160;&#160;in&#160;@For&#160;e&#160;in&#160;AuxiliaryClasses.classes-&gt;select(t&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;t.of()&#160;=&#160;AuxiliaryClasses::ComposedType&#160;or&#160;t.of()&#160;=&#160;AuxiliaryClasses::Unit)&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tmp&#160;:=&#160;tmp.including(Seq{e})<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;selectedClass&#160;=&#160;xmf.treeSelection("Select&#160;Type",Seq{"Auxiliary&#160;Types","*",tmp},Set{},null)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name&#160;=&#160;self.newName("att")&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;attribute&#160;=&#160;if&#160;selectedClass&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;XCore::Attribute(name,selectedClass,selectedClass)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;attribute&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.add(attribute);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;attribute.init()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="newConstructor"/><FONT FACE="Courier" SIZE="1">@Operation&#160;newConstructor():XCore::Element<br>&#160;&#160;let&#160;constructor&#160;=&#160;@Constructor()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;in&#160;self.add(constructor)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="newOtherAttributeHandler"/><FONT FACE="Courier" SIZE="1">@Operation&#160;newOtherAttributeHandler():XCore::Element<br>&#160;&#160;@Operation&#160;newOtherAttribute():XCore::Element<br>&#160;&#160;&#160;&#160;let&#160;selectedClass&#160;=&#160;xmf.treeSelection("Select&#160;End",Seq{"Classes","*",Snapshot().makePackageTree(Set{self.owner})},Set{},null)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name&#160;=&#160;self.newName("att")&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;attribute&#160;=&#160;if&#160;selectedClass&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;XCore::Attribute(name,selectedClass)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;in&#160;if&#160;attribute&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.add(attribute);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;attribute.init()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="newOtherAttributeHandler_Old"/><FONT FACE="Courier" SIZE="1">@Operation&#160;newOtherAttributeHandler_Old():XCore::Element<br>&#160;&#160;@Operation&#160;newOtherAttribute_Old():XCore::Element<br>&#160;&#160;&#160;&#160;let&#160;metaClasses&#160;=&#160;self.owner.metaPackage.allContents()-&gt;select(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.isKindOf(Class)&#160;and&#160;c&#160;&lt;&gt;&#160;null)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;metaClasses&#160;=&#160;metaClasses&#160;+&#160;self.owner.allContents()-&gt;select(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.isKindOf(Class)&#160;and&#160;c&#160;&lt;&gt;&#160;null)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;attributes&#160;=&#160;metaClasses-&gt;select(a&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;a.allParents()-&gt;includes(Attribute))-&gt;asSeq&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;attributeOf&#160;=&#160;xmf.select("Attribute&#160;class","Please&#160;choose&#160;a&#160;metaclass&#160;for&#160;the&#160;attribute",attributes,null,null)<br>&#160;&#160;&#160;&#160;in&#160;if&#160;attributeOf&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;dataType&#160;=&#160;Seq{Integer,String,Boolean,Float}&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;type&#160;=&#160;xmf.select("Attribute&#160;type","Please&#160;choose&#160;a&#160;type&#160;for&#160;the&#160;attribute",dataType,null,null)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;type&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;name&#160;=&#160;self.newName("att")&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;attribute&#160;=&#160;attributeOf(name,type)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;self.add(attribute);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;attribute.init()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="remove"/><FONT FACE="Courier" SIZE="1">@Operation&#160;remove(n&#160;:&#160;NamedElement):Classifier<br>&#160;&#160;if&#160;n.isKindOf(Attribute)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.removeAttribute(n);<br>&#160;&#160;&#160;&#160;super(n)<br>&#160;&#160;elseif&#160;n.isKindOf(Constructor)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.removeConstructor(n);<br>&#160;&#160;&#160;&#160;super(n)<br>&#160;&#160;else&#160;super(n)<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="removeAttribute"/><FONT FACE="Courier" SIZE="1">@Operation&#160;removeAttribute(a&#160;:&#160;Attribute):Classifier<br>&#160;&#160;self.attributes&#160;:=&#160;attributes-&gt;excluding(a)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="removeConstructor"/><FONT FACE="Courier" SIZE="1">@Operation&#160;removeConstructor(c&#160;:&#160;Constructor):Classifier<br>&#160;&#160;self.constructors&#160;:=&#160;constructors-&gt;excluding(c)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="repopulate"/><FONT FACE="Courier" SIZE="1">@Operation&#160;repopulate(namedElement&#160;:&#160;NamedElement):Boolean<br>&#160;&#160;if&#160;namedElement.isReallyKindOf(Class)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;super(namedElement);<br>&#160;&#160;&#160;&#160;self.isAbstract&#160;:=&#160;namedElement.isAbstract;<br>&#160;&#160;&#160;&#160;@For&#160;sourceAttribute&#160;in&#160;namedElement.attributes&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;let&#160;findSeq&#160;=&#160;attributes-&gt;asSeq;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;=&#160;false;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;=&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;in&#160;declare(hidden,findSeq);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;declare(hidden,findDone);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;declare(hidden,findResult);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@While&#160;not&#160;findSeq-&gt;isEmpty&#160;and&#160;not&#160;findDone&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;targetAttribute&#160;=&#160;findSeq-&gt;head&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findElement&#160;=&#160;findSeq-&gt;head<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;declare(hidden,findElement);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;targetAttribute.name()&#160;=&#160;sourceAttribute.name()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;:=&#160;true;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;:=&#160;targetAttribute.repopulate(sourceAttribute)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findSeq&#160;:=&#160;findSeq-&gt;tail<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;findDone<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;self.add(sourceAttribute)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findResult<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;self.constructors&#160;:=&#160;namedElement.constructors;<br>&#160;&#160;&#160;&#160;true<br>&#160;&#160;else&#160;false<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="setInstanceSlot"/><FONT FACE="Courier" SIZE="1">@Operation&#160;setInstanceSlot(object&#160;:&#160;XCore::Element,name&#160;:&#160;XCore::Element,value&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;Kernel_setDefaultSetMOP(object.of(),true);<br>&#160;&#160;Kernel_setSlotValue(object,name,value)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="setResourceName"/><FONT FACE="Courier" SIZE="1">@Operation&#160;setResourceName(name&#160;:&#160;String):XCore::Element<br>&#160;&#160;self.resourceName&#160;:=&#160;name<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="toHTMLDoc"/><FONT FACE="Courier" SIZE="1">@Operation&#160;toHTMLDoc(fout&#160;:&#160;OutputChannel):XCore::Element<br>&#160;&#160;self.toHTMLDoc(fout,xmf.preference("ShowLongDocumentation"))<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="toHTMLDoc"/><FONT FACE="Courier" SIZE="1">@Operation&#160;toHTMLDoc(fout&#160;:&#160;OutputChannel,showOpBody&#160;:&#160;Boolean):XCore::Element<br>&#160;&#160;format(fout,"&lt;!DOCTYPE&#160;HTML&#160;PUBLIC&#160;"-//W3C//DTD&#160;HTML&#160;4.01&#160;Transitional//EN"&#160;"http://www.w3.org/TR/html4/loose.dtd"&gt;~%");<br>&#160;&#160;format(fout,"&lt;HTML&gt;~%&lt;HEAD&gt;~%&lt;TITLE&gt;~%~S~%&lt;/TITLE&gt;~%&lt;/HEAD&gt;~%",Seq{name});<br>&#160;&#160;format(fout,"&lt;FONT&#160;SIZE="+2"&gt;&lt;B&gt;~S&lt;/B&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;BR&gt;&lt;HR&gt;~%",Seq{name});<br>&#160;&#160;format(fout,"&lt;FONT&#160;SIZE="+1"&gt;&lt;B&gt;Overview&lt;/B&gt;&lt;/FONT&gt;&lt;BR&gt;~%");<br>&#160;&#160;format(fout,"&lt;P&gt;~%~S~%",Seq{self.doc().doc});<br>&#160;&#160;format(fout,"&lt;BR&gt;&lt;HR&gt;&lt;BR&gt;~%");<br>&#160;&#160;format(fout,"&lt;B&gt;Parents&lt;/B&gt;~%");<br>&#160;&#160;@For&#160;p&#160;in&#160;self.allParents()&#160;do<br>&#160;&#160;&#160;&#160;format(fout,"&lt;A&#160;HREF="~S"&gt;~S&lt;/A&gt;~%",Seq{p.href(self.pathSeq()),p.name.toString()});<br>&#160;&#160;&#160;&#160;if&#160;not&#160;isLast<br>&#160;&#160;&#160;&#160;then&#160;format(fout,",")<br>&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end;<br>&#160;&#160;format(fout,"&lt;BR&gt;&lt;HR&gt;&lt;BR&gt;~%");<br>&#160;&#160;format(fout,"&lt;TABLE&#160;BORDER="1"&#160;WIDTH="100%"&#160;CELLPADDING="3"&#160;CELLSPACING="0"&#160;SUMMARY=""&gt;~%");<br>&#160;&#160;format(fout,"&lt;TR&#160;BGCOLOR="#CCCCFF"&#160;CLASS="TableHeadingColor"&gt;~%");<br>&#160;&#160;format(fout,"&lt;TD&#160;COLSPAN=2&gt;&lt;FONT&#160;SIZE="+2"&gt;~%");<br>&#160;&#160;format(fout,"&lt;B&gt;Constructors&lt;/B&gt;&lt;/FONT&gt;&lt;/TD&gt;~%&lt;/TR&gt;~%");<br>&#160;&#160;@For&#160;c&#160;in&#160;constructors&#160;do<br>&#160;&#160;&#160;&#160;format(fout,"&lt;TR&gt;&lt;TD&gt;~S(~S)&lt;/TD&gt;&lt;TD&gt;~S&lt;/TD&gt;&lt;/TR&gt;~%",Seq{name,c.names-&gt;separateWith(","),c.doc().doc})<br>&#160;&#160;end;<br>&#160;&#160;format(fout,"&lt;/TABLE&gt;~%");<br>&#160;&#160;format(fout,"&lt;BR&gt;&lt;HR&gt;&lt;BR&gt;~%");<br>&#160;&#160;format(fout,"&lt;TABLE&#160;BORDER="1"&#160;WIDTH="100%"&#160;CELLPADDING="3"&#160;CELLSPACING="0"&#160;SUMMARY=""&gt;~%");<br>&#160;&#160;format(fout,"&lt;TR&#160;BGCOLOR="#CCCCFF"&#160;CLASS="TableHeadingColor"&gt;~%");<br>&#160;&#160;format(fout,"&lt;TD&#160;COLSPAN=3&gt;&lt;FONT&#160;SIZE="+2"&gt;~%");<br>&#160;&#160;format(fout,"&lt;B&gt;Attributes&lt;/B&gt;&lt;/FONT&gt;&lt;/TD&gt;~%&lt;/TR&gt;~%");<br>&#160;&#160;@For&#160;a&#160;in&#160;attributes-&gt;asSeq-&gt;sortNamedElements&#160;do<br>&#160;&#160;&#160;&#160;format(fout,"&lt;TR&gt;&lt;TD&gt;&lt;B&gt;~S&lt;/B&gt;&lt;/TD&gt;&lt;TD&gt;&lt;A&#160;HREF="~S"&gt;~S&lt;A&gt;&lt;/TD&gt;&lt;TD&gt;~S&lt;/TD&gt;&lt;/TR&gt;~%",Seq{a.name(),a.underlyingType().href(self.pathSeq()),a.type.name().toString(),a.doc().doc})<br>&#160;&#160;end;<br>&#160;&#160;format(fout,"&lt;TR&gt;~%&lt;TD&#160;COLSPAN=3&gt;~%&lt;FONT&#160;SIZE="-1"&gt;~%");<br>&#160;&#160;@For&#160;p&#160;in&#160;self.allParents()&#160;do<br>&#160;&#160;&#160;&#160;if&#160;not&#160;p.attributes-&gt;isEmpty<br>&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&lt;B&gt;From&lt;/B&gt;&#160;&lt;A&#160;HREF="~S"&gt;~S&lt;/A&gt;:&#160;",Seq{p.href(self.pathSeq()),p.name.toString()});<br>&#160;&#160;&#160;&#160;&#160;&#160;@For&#160;a&#160;in&#160;p.attributes-&gt;asSeq-&gt;sortNamedElements&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"~S",Seq{a.name});<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;isLast<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;format(fout,",&#160;")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;format(fout,".&#160;")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&lt;BR&gt;")<br>&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end;<br>&#160;&#160;format(fout,"&lt;/FONT&gt;~%&lt;/TD&gt;~%&lt;/TR&gt;~%");<br>&#160;&#160;format(fout,"&lt;/TABLE&gt;~%");<br>&#160;&#160;format(fout,"&lt;BR&gt;&lt;HR&gt;&lt;BR&gt;~%");<br>&#160;&#160;format(fout,"&lt;TABLE&#160;BORDER="1"&#160;WIDTH="100%"&#160;CELLPADDING="2"&#160;CELLSPACING="0"&#160;SUMMARY=""&gt;~%");<br>&#160;&#160;format(fout,"&lt;TR&#160;BGCOLOR="#CCCCFF"&#160;CLASS="TableHeadingColor"&gt;~%");<br>&#160;&#160;format(fout,"&lt;TD&#160;COLSPAN=2&gt;&lt;FONT&#160;SIZE="+2"&gt;~%");<br>&#160;&#160;format(fout,"&lt;B&gt;Operations&lt;/B&gt;&lt;/FONT&gt;&lt;/TD&gt;~%&lt;/TR&gt;~%");<br>&#160;&#160;@For&#160;o&#160;in&#160;operations-&gt;asSeq-&gt;sortNamedElements&#160;do<br>&#160;&#160;&#160;&#160;if&#160;showOpBody<br>&#160;&#160;&#160;&#160;then&#160;format(fout,"&lt;TR&gt;&lt;TD&gt;&lt;B&gt;&lt;a&#160;href="#~S"&gt;~S&lt;/a&gt;(",Seq{o.name(),o.name()})<br>&#160;&#160;&#160;&#160;else&#160;format(fout,"&lt;TR&gt;&lt;TD&gt;&lt;B&gt;~S(",Seq{o.name()})<br>&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;@For&#160;p,t&#160;in&#160;o.paramNames(),o.paramTypes()&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;@TypeCase(t)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Set&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"~S:&lt;A&#160;HREF="~S"&gt;~S&lt;A&gt;",Seq{p,t.elementType.href(self.pathSeq()),t.name()})<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Seq&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"~S:&lt;A&#160;HREF="~S"&gt;~S&lt;A&gt;",Seq{p,t.elementType.href(self.pathSeq()),t.name()})<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;isLast<br>&#160;&#160;&#160;&#160;&#160;&#160;then&#160;format(fout,",")<br>&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;format(fout,"):");<br>&#160;&#160;&#160;&#160;@TypeCase(o.type())<br>&#160;&#160;&#160;&#160;&#160;&#160;Set&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&lt;A&#160;HREF="~S"&gt;~S&lt;A&gt;",Seq{o.type().elementType.href(self.pathSeq()),o.type().name()})<br>&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;Seq&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&lt;A&#160;HREF="~S"&gt;~S&lt;A&gt;",Seq{o.type().elementType.href(self.pathSeq()),o.type().name()})<br>&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;format(fout,"&lt;/B&gt;&lt;/TD&gt;&lt;TD&gt;~S&lt;/TD&gt;&lt;/TR&gt;~%",Seq{o.doc().doc})<br>&#160;&#160;end;<br>&#160;&#160;format(fout,"&lt;TR&gt;~%&lt;TD&#160;COLSPAN=2&gt;~%&lt;FONT&#160;SIZE="-1"&gt;~%");<br>&#160;&#160;@For&#160;p&#160;in&#160;self.allParents()&#160;do<br>&#160;&#160;&#160;&#160;if&#160;not&#160;p.operations-&gt;isEmpty<br>&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&lt;B&gt;From&lt;/B&gt;&#160;&lt;A&#160;HREF="~S"&gt;~S&lt;/A&gt;:&#160;",Seq{p.href(self.pathSeq()),p.name.toString()});<br>&#160;&#160;&#160;&#160;&#160;&#160;@For&#160;o&#160;in&#160;p.operations-&gt;asSeq-&gt;sortNamedElements&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"~S",Seq{o.name});<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;isLast<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;format(fout,",&#160;")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;format(fout,".&#160;")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&lt;BR&gt;")<br>&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end;<br>&#160;&#160;if&#160;showOpBody<br>&#160;&#160;then&#160;@For&#160;o&#160;in&#160;operations-&gt;asSeq-&gt;sortNamedElements&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&lt;TR&gt;&lt;TD&#160;COLSPAN=2&gt;");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;o.isKindOf(Operation)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&lt;a&#160;name="~S"/&gt;",Seq{o.name()});<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&lt;FONT&#160;FACE="Courier"&#160;SIZE="1"&gt;~S&lt;/FONT&gt;~%",Seq{o.source().asHTML()})<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&lt;/TD&gt;&lt;/TR&gt;~%")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;else&#160;false<br>&#160;&#160;end&#160;;<br>&#160;&#160;format(fout,"&lt;/FONT&gt;~%&lt;/TD&gt;~%&lt;/TR&gt;~%");<br>&#160;&#160;format(fout,"&lt;/TABLE&gt;~%");<br>&#160;&#160;if&#160;grammar&#160;&lt;&gt;&#160;null<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;format(fout,"&lt;BR&gt;&lt;HR&gt;&lt;BR&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&lt;TABLE&#160;BORDER="1"&#160;WIDTH="100%"&#160;CELLPADDING="3"&#160;CELLSPACING="0"&#160;SUMMARY=""&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&lt;TR&#160;BGCOLOR="#CCCCFF"&#160;CLASS="TableHeadingColor"&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&lt;TD&#160;COLSPAN=1&gt;&lt;FONT&#160;SIZE="+2"&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&lt;B&gt;Grammar&lt;/B&gt;&lt;/FONT&gt;&lt;/TD&gt;~%&lt;/TR&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&lt;TD&gt;&lt;PRE&gt;~%");<br>&#160;&#160;&#160;&#160;grammar.pprint(fout,0);<br>&#160;&#160;&#160;&#160;format(fout,"&lt;/PRE&gt;&lt;/TD&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&lt;/TABLE&gt;~%")<br>&#160;&#160;else&#160;false<br>&#160;&#160;end&#160;;<br>&#160;&#160;format(fout,"&lt;/HTML&gt;~%")<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="toType"/><FONT FACE="Courier" SIZE="1">@Operation&#160;toType(args&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;operation.getDerivedValue(cache,self,args)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="toXMLClause"/><FONT FACE="Courier" SIZE="1">@Operation&#160;toXMLClause():XCore::Element<br>&#160;&#160;let&#160;attributes&#160;=&#160;self.allAttributes()-&gt;asSeq-&gt;sortNamedElements&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;simpleAttributes&#160;=&#160;attributes-&gt;select(a&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;a.underlyingType().isKindOf(DataType))&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;A&#160;=&#160;simpleAttributes-&gt;collect(a&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;BindAtt(a.name()))-&gt;asSeq;<br>&#160;&#160;&#160;&#160;&#160;&#160;children&#160;=&#160;Case(Seq{},self.matchXMLComplexAttributes(attributes))&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;element&#160;=&#160;Element("Object",A-&gt;including(BindAtt("id")),children)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;commands&#160;=&#160;Seq{Event("new"&#160;+&#160;name,attributes-&gt;collect(a&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CommandVar(a.name().toString())),true)}&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;main&#160;=&#160;And(element,Update("id",Commands(commands)));<br>&#160;&#160;&#160;&#160;&#160;&#160;classesInContext&#160;=&#160;owner.allContentsOf(Class)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;subTypes&#160;=&#160;classesInContext-&gt;select(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.inheritsFrom(self))-&gt;excluding(self)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;calls&#160;=&#160;subTypes-&gt;collect(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Call(c.name().toString()))-&gt;asSeq<br>&#160;&#160;in&#160;Clause(name,calls-&gt;including(main))<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeXMLFactoryMethod"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeXMLFactoryMethod(out&#160;:&#160;OutputChannel):XCore::Element<br>&#160;&#160;format(out,"&#160;&#160;public&#160;~S&#160;new~S",Seq{name,name});<br>&#160;&#160;self.writeXMLFactoryMethodArgs(out);<br>&#160;&#160;self.writeXMLFactoryMethodBody(out)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeXMLFactoryMethodArgs"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeXMLFactoryMethodArgs(out&#160;:&#160;OutputChannel):XCore::Element<br>&#160;&#160;format(out,"(");<br>&#160;&#160;@For&#160;attribute&#160;in&#160;self.allAttributes()-&gt;asSeq-&gt;sortNamedElements&#160;do<br>&#160;&#160;&#160;&#160;if&#160;attribute.type.isKindOf(Seq)&#160;or&#160;attribute.type.isKindOf(Set)<br>&#160;&#160;&#160;&#160;then&#160;format(out,"~S&#160;~S",Seq{attribute.type.javaTypeName(owner),attribute.name()})<br>&#160;&#160;&#160;&#160;elseif&#160;attribute.type.isKindOf(DataType)<br>&#160;&#160;&#160;&#160;then&#160;format(out,"String&#160;~S",Seq{attribute.name()})<br>&#160;&#160;&#160;&#160;else&#160;format(out,"Object&#160;~S",Seq{attribute.name()})<br>&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;if&#160;not&#160;isLast<br>&#160;&#160;&#160;&#160;then&#160;format(out,",")<br>&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end;<br>&#160;&#160;format(out,")")<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeXMLFactoryMethodBody"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeXMLFactoryMethodBody(out&#160;:&#160;OutputChannel):XCore::Element<br>&#160;&#160;format(out,"&#160;{~%");<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;~S&#160;new~S&#160;=&#160;new&#160;~S();~%",Seq{name,name,name});<br>&#160;&#160;self.writeXMLFactoryMethodBodyUpdates(out);<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;return&#160;new~S;~%",Seq{name});<br>&#160;&#160;format(out,"&#160;&#160;}~%")<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeXMLFactoryMethodBodyUpdateCollection"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeXMLFactoryMethodBodyUpdateCollection(out&#160;:&#160;OutputChannel,attribute&#160;:&#160;Attribute):XCore::Element<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;for(int&#160;i&#160;=&#160;0;&#160;i&#160;&lt;&#160;~S.size();&#160;i++)&#160;{~%",Seq{attribute.name()});<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;Object&#160;temp&#160;=&#160;~S.elementAt(i);~%",Seq{attribute.name()});<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;if(temp&#160;instanceof&#160;Ref)&#160;{~%");<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Ref&#160;ref&#160;=&#160;(Ref)temp;~%");<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elementPending(~S,i,ref);~%",Seq{attribute.name()});<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;}~%");<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;}~%");<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;new~S.set~S(~S);~%",Seq{name,attribute.name().upperCaseInitialLetter(),attribute.name()})<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeXMLFactoryMethodBodyUpdateDataTypeSlot"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeXMLFactoryMethodBodyUpdateDataTypeSlot(out&#160;:&#160;OutputChannel,attribute&#160;:&#160;Attribute):XCore::Element<br>&#160;&#160;@Case&#160;attribute.type&#160;of<br>&#160;&#160;&#160;&#160;[&#160;Integer&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;new~S.set~S(Integer.parseInt(~S.substring(2)));~%",Seq{name,attribute.name().upperCaseInitialLetter(),attribute.name()})<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;[&#160;Boolean&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;new~S.set~S(Boolean.parseBoolean(~S.substring(2)));~%",Seq{name,attribute.name().upperCaseInitialLetter(),attribute.name()})<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;[&#160;String&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;format(out,"&#160;&#160;&#160;&#160;new~S.set~S(~S.substring(2));~%",Seq{name,attribute.name().upperCaseInitialLetter(),attribute.name()})<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;else&#160;format(out,"&#160;&#160;&#160;&#160;new~S.set~S(~S);~%",Seq{name,attribute.name().upperCaseInitialLetter(),attribute.name()})<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeXMLFactoryMethodBodyUpdatePossibleRef"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeXMLFactoryMethodBodyUpdatePossibleRef(out&#160;:&#160;OutputChannel,attribute&#160;:&#160;Attribute):XCore::Element<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;if(~S&#160;instanceof&#160;Ref)&#160;{~%",Seq{attribute.name()});<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;Ref&#160;ref&#160;=&#160;(Ref)~S;~%",Seq{attribute.name()});<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;&#160;&#160;pendingSlot(new~S,"~S",ref);~%",Seq{name,attribute.name()});<br>&#160;&#160;format(out,"&#160;&#160;&#160;&#160;}&#160;else&#160;new~S.set~S((~S)~S);~%",Seq{name,attribute.name().upperCaseInitialLetter(),attribute.type.name(),attribute.name()})<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeXMLFactoryMethodBodyUpdates"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeXMLFactoryMethodBodyUpdates(out&#160;:&#160;OutputChannel):XCore::Element<br>&#160;&#160;@For&#160;attribute&#160;in&#160;self.allAttributes()&#160;do<br>&#160;&#160;&#160;&#160;let&#160;caseObj&#160;=&#160;attribute.type&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;caseObjType&#160;=&#160;caseObj.of()<br>&#160;&#160;&#160;&#160;in&#160;if&#160;caseObjType&#160;=&#160;Set<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;self.writeXMLFactoryMethodBodyUpdateCollection(out,attribute)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Seq<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;self.writeXMLFactoryMethodBodyUpdateCollection(out,attribute)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;elseif&#160;attribute.type.isKindOf(DataType)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;self.writeXMLFactoryMethodBodyUpdateDataTypeSlot(out,attribute)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;self.writeXMLFactoryMethodBodyUpdatePossibleRef(out,attribute)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
</FONT>
</TD>
</TR>
</TABLE>
</HTML>
