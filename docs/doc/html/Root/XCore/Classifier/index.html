<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<TITLE>
Classifier
</TITLE>
</HEAD>
<FONT SIZE="+2"><B>Classifier</B></FONT><BR><BR><HR>
<FONT SIZE="+1"><B>Overview</B></FONT><BR>
<P>

      A classifier is a name space for operations and constraints. A classifier 
      is generalizable and has parents from which it inherits operations and 
      constraints. A classifier can be instantiated via 'new/0' and 'new/1'. In
      both cases the default behaviour is to return a default value as an instance.
      If the classifier is a datatype then the basic value for the datatype is
      returned otherwise 'null' is returned as the default value. A classifier can
      also be applied to arguments (0 or more) in order to instantiate it. Typically
      you will not create a Classifier directly, but create a class or an instance 
      of a sub-class of Class.
     
<BR><HR><BR>
<B>Parents</B>
<A HREF="../../../Root/XCore/NameSpace/index.html">NameSpace</A>
,<A HREF="../../../Root/XCore/IndexedContainer/index.html">IndexedContainer</A>
,<A HREF="../../../Root/XCore/NamedElement/index.html">NamedElement</A>
,<A HREF="../../../Root/XCore/DocumentedElement/index.html">DocumentedElement</A>
,<A HREF="../../../Root/XCore/Container/index.html">Container</A>
,<A HREF="../../../Root/XCore/Contained/index.html">Contained</A>
,<A HREF="../../../Root/XCore/Object/index.html">Object</A>
,<A HREF="../../../Root/XCore/Element/index.html">Element</A>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructors</B></FONT></TD>
</TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=3><FONT SIZE="+2">
<B>Attributes</B></FONT></TD>
</TR>
<TR><TD><B>constraints</B></TD><TD><A HREF="../../../Root/XCore/Constraint/index.html">Set(Constraint)<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>default</B></TD><TD><A HREF="../../../Root/XCore/Element/index.html">Element<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>grammar</B></TD><TD><A HREF="../../../Root/Parser/BNF/Grammar/index.html">Grammar<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>isFinal</B></TD><TD><A HREF="../../../Root/XCore/Boolean/index.html">Boolean<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>operations</B></TD><TD><A HREF="../../../Root/XCore/Operation/index.html">Set(Operation)<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>parents</B></TD><TD><A HREF="../../../Root/XCore/Classifier/index.html">Set(Classifier)<A></TD><TD>No Documentation Specified</TD></TR>
<TR>
<TD COLSPAN=3>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../Root/XCore/NameSpace/index.html">NameSpace</A>: bindings, imports. <BR><B>From</B> <A HREF="../../../Root/XCore/IndexedContainer/index.html">IndexedContainer</A>: contents. <BR><B>From</B> <A HREF="../../../Root/XCore/NamedElement/index.html">NamedElement</A>: name. <BR><B>From</B> <A HREF="../../../Root/XCore/DocumentedElement/index.html">DocumentedElement</A>: documentation. <BR><B>From</B> <A HREF="../../../Root/XCore/Contained/index.html">Contained</A>: owner. <BR><B>From</B> <A HREF="../../../Root/XCore/Element/index.html">Element</A>: roleFiller. <BR></FONT>
</TD>
</TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="2" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Operations</B></FONT></TD>
</TR>
<TR><TD><B><a href="#add">add</a>(namedElement:<A HREF="../../../Root/XCore/NamedElement/index.html">NamedElement<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#add">add</a>(n:<A HREF="../../../Root/XCore/NamedElement/index.html">NamedElement<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>
      Adds a named element to a classifier. If the named element
      is an operation or constraint then it is added to the
      appropriate attributes of the classifier. Sub-classes of
      Classifier can exte-nd this as appropriate but should also call
      thi via 'super'.
    </TD></TR>
<TR><TD><B><a href="#addConstraint">addConstraint</a>(c:<A HREF="../../../Root/XCore/Constraint/index.html">Constraint<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>
      Adds a constraint to a classifier. Use 'add/1' in preference
      to this operation.
    </TD></TR>
<TR><TD><B><a href="#addGrammar">addGrammar</a>(grammar:<A HREF="../../../Root/Parser/BNF/Grammar/index.html">Grammar<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#addOperation">addOperation</a>(o:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Constraint/index.html">Constraint<A></B></TD><TD>
      Adds an operation to a classifier. Use 'add/1' in preference
      to this operation. Removes any existing operation with the
      same name and arity.
    </TD></TR>
<TR><TD><B><a href="#addParent">addParent</a>(parent:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      Add the parent to the receiver.
      Only make the modification if the parent is
      legal and not already present. Otherwise dont
      change the receiver.
    </TD></TR>
<TR><TD><B><a href="#allConstraints">allConstraints</a>():<A HREF="../../../Root/XCore/Constraint/index.html">Set(Constraint)<A></B></TD><TD>
      Get all the constraints defined and inherited by 
      the receiver.
    </TD></TR>
<TR><TD><B><a href="#allOperations">allOperations</a>():<A HREF="../../../Root/XCore/Operation/index.html">Seq(Operation)<A></B></TD><TD>
      Get All the operations defined and inherited by the
      receiver. The order of the operations is very important
      because this is the order in which message lookup occurs.
      To calculate allOperations/0 we use an Operator
      Precedence Ordering. This is a depth first left to right
      traversal of the classification type lattice up to a join.
      Stopping at join points means that operations that would
      otherwise appear multiple times in the OPO are promoted to 
      their last occurrence.
    </TD></TR>
<TR><TD><B><a href="#allParents">allParents</a>():<A HREF="../../../Root/XCore/Classifier/index.html">Set(Classifier)<A></B></TD><TD>
      The set of all parents of a  classifier.
    </TD></TR>
<TR><TD><B><a href="#availableParents">availableParents</a>():<A HREF="../../../Root/XCore/Classifier/index.html">Set(Classifier)<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#checkParents">checkParents</a>():<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>
      Called when a classifier is initialised. Raises an exception
      if any of the parents are illegal (for example if they are
      final).
    </TD></TR>
<TR><TD><B><a href="#classify">classify</a>(e:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/ConstraintReport/index.html">ConstraintReport<A></B></TD><TD>
      A classifier classifies its instances by running constraints
      against them. The result of classification is a set of
      constraint reports that describe whether the classification
      succeeded and why the classification fails. To classify a
      candidate supply it to 'classify/1' to produce the set of
      reports.
    </TD></TR>
<TR><TD><B><a href="#default">default</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      When a classifier is used as an attribute type the corresponding
      slot values are initialised to the default value returned by
      this operation.
    </TD></TR>
<TR><TD><B><a href="#defaultParents">defaultParents</a>():<A HREF="../../../Root/XCore/Classifier/index.html">Set(Classifier)<A></B></TD><TD>
      When creating a classifier it is possible to state the
      default parents so that if no parents are specified when
      creating an instance of the classifier the set returned by
      this operation is used. The default parent for a classifier
      is Element.
    </TD></TR>
<TR><TD><B><a href="#dependencies">dependencies</a>():<A HREF="../../../Root/XCore/Element/index.html">Set(Element)<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#diagramToolDescriptors">diagramToolDescriptors</a>():<A HREF="../../../Root/Tools/DiagramTools/Structure/ToolDescriptor/index.html">Set(ToolDescriptor)<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#dropInClassDiagram">dropInClassDiagram</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#formToolDescriptors">formToolDescriptors</a>():<A HREF="../../../Root/Tools/FormTools/Structure/ToolDescriptor/index.html">Set(ToolDescriptor)<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#getConstraint">getConstraint</a>(name:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/Constraint/index.html">Constraint<A></B></TD><TD>
       ndex a constraint by name. 
    </TD></TR>
<TR><TD><B><a href="#getOperation">getOperation</a>(name:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/XCore/Operation/index.html">Operation<A></B></TD><TD>
      Index an operation by name. 
    </TD></TR>
<TR><TD><B><a href="#getOperation">getOperation</a>(name:<A HREF="../../../Root/XCore/String/index.html">String<A>,arity:<A HREF="../../../Root/XCore/Integer/index.html">Integer<A>):<A HREF="../../../Root/XCore/Operation/index.html">Operation<A></B></TD><TD>
      Index an operation by name and arity.
    </TD></TR>
<TR><TD><B><a href="#grammar">grammar</a>():<A HREF="../../../Root/Parser/BNF/Grammar/index.html">Grammar<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#hasOperation">hasOperation</a>(name:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,arity:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#inheritsFrom">inheritsFrom</a>(c:<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A>):<A HREF="../../../Root/XCore/Boolean/index.html">Boolean<A></B></TD><TD>
      A classifier inherits from another if they are the same or
      we can ue the 'parents' relation transitively to link the
      two. Supply the super-classifier to this operation which
      will return true when the receiver inherits from the argument.
    </TD></TR>
<TR><TD><B><a href="#init">init</a>():<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>
      To initialise a classifier, initialise the operations, the parents
      and run super.
    </TD></TR>
<TR><TD><B><a href="#initConstraints">initConstraints</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#initOperations">initOperations</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
     Initialise all the operations.
   </TD></TR>
<TR><TD><B><a href="#initParents">initParents</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      Initialise the parents of a classifier. When the compiler encounters
      a package of definitions it turns references into operations that
      return the references when they are called with no arguments. This is
      the mechanism by which mutual recursion is implemented. The dereferencing
      occurs by delaying the mutual recursion in the body of the operations;
      the compiler will have compiled the references in the body of the operation
      as an appropriate lookup in the containing namespace. It is therefore
      important that namespaces such as classifiers and classes, and elements
      that reference things in namespaces such as attributes and operations 
      are initialised. The initialisation is fairly simple since the compiler 
      has done all the work: initialisation just calls the operation which then
      performs the delayed reference.
    </TD></TR>
<TR><TD><B><a href="#initialized">initialized</a>():<A HREF="../../../Root/XCore/Boolean/index.html">Boolean<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#invoke">invoke</a>(target:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,args:<A HREF="../../../Root/XCore/Element/index.html">Seq(Element)<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      A classifier is invoked to (by default) initialise itself
      with respect to some arguments. This is the preferred way 
      for classifiers to be instantiated.
    </TD></TR>
<TR><TD><B><a href="#javaTypeName">javaTypeName</a>(package:<A HREF="../../../Root/XCore/Package/index.html">Package<A>):<A HREF="../../../Root/XCore/String/index.html">String<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#mapType">mapType</a>(type:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,nameSpaces:<A HREF="../../../Root/XCore/NameSpace/index.html">Seq(NameSpace)<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#new">new</a>(args:<A HREF="../../../Root/XCore/Element/index.html">Seq(Element)<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      'new/1' takes a sequence of initialisation arguments.
      It calls 'new/0' to create the new instance and then calls
      'init/1' with the initialisation arguments.
    </TD></TR>
<TR><TD><B><a href="#new">new</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      'new/0' is defined by classifiers to create  a new instance.
      The default behaviour returns the default value.
    </TD></TR>
<TR><TD><B><a href="#newConstraint">newConstraint</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#newOperation">newOperation</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#newOtherOperation">newOtherOperation</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#remove">remove</a>(n:<A HREF="../../../Root/XCore/NamedElement/index.html">NamedElement<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>
      'remove/1' removes a named element from a classifier.
      This is the preferred way of removing an element. It causes
      the named element to be removed from the namespace of the element (i.e.
      the contents table) and also removes operations and constraints from
      the appropriate slots. Sub-classes of Classifier should exte-nd this as 
      appropriate, but should call this via 'super'.
    </TD></TR>
<TR><TD><B><a href="#removeConstraint">removeConstraint</a>(c:<A HREF="../../../Root/XCore/Constraint/index.html">Constraint<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#removeOperation">removeOperation</a>(o:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#removeParent">removeParent</a>(parent:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#repopulate">repopulate</a>(namedElement:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Boolean/index.html">Boolean<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#sendInstance">sendInstance</a>(element:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,message:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,args:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,setDefault:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      Part of the MOP. Redefine this in sub-classes to handle special
      message passing protocols.
    </TD></TR>
<TR><TD><B><a href="#sendInstance">sendInstance</a>(element:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,message:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,args:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#setParents_client">setParents_client</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#shadowOperation">shadowOperation</a>(op:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#target">target</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
      Returns the target to be used when a classifier is
      invoked.
    </TD></TR>
<TR><TD><B><a href="#toHTML">toHTML</a>():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#toType">toType</a>(args:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#toolDescriptors">toolDescriptors</a>():<A HREF="../../../Root/Tools/Basic/ToolDescriptor/index.html">Set(ToolDescriptor)<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#typeDistance">typeDistance</a>():<A HREF="../../../Root/XCore/Boolean/index.html">Boolean<A></B></TD><TD>
      The distance between the received and Class.
    </TD></TR>
<TR>
<TD COLSPAN=2>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../Root/XCore/NameSpace/index.html">NameSpace</A>: add, addBinding, addImport, allHTMLEntries, allHTMLPackages, allImports, createSnapshot, define, generateHTML, getChildren, getContents, getElement, getInstantiableClasses, graphViz, hasBinding, hasElement, importedFrom, imports, init, init, initBindings, lift, liveDoc, lookupPath, nameChanged, names, newName, populateGraphViz, putElement, redefine, remove, removeBinding, removeImport, resolveNameClash, syntaxClasses, toGraphVizPage, toHTML, toHTMLDoc, toType, writeEcore. <BR><B>From</B> <A HREF="../../../Root/XCore/IndexedContainer/index.html">IndexedContainer</A>: add, add, addContentDaemon, contentDaemons, contents, index, indices, init, initContents, remove, removeContentDaemon. <BR><B>From</B> <A HREF="../../../Root/XCore/NamedElement/index.html">NamedElement</A>: getNamedElement, href, labelString, legalNameChangeCheck, name, path, pathSeq, repopulate, setName, toString. <BR><B>From</B> <A HREF="../../../Root/XCore/DocumentedElement/index.html">DocumentedElement</A>: doc, ensureDoc, setDoc. <BR><B>From</B> <A HREF="../../../Root/XCore/Container/index.html">Container</A>: add, addContentDaemon, allContents, allContentsOf, allContentsThat, checkConstraints, checkConstraints, containerCutHandler, containerPastePostHandler, containerPastePreHandler, contentDaemons, contents, contentsOf, contentsThat, deleteContainedDiagrams, deleteRecursive, find, getChildren, getChildrenToolTips, includes, init, initContents, loadXTO, remove, removeContentDaemon, traceAll, untraceAll. <BR><B>From</B> <A HREF="../../../Root/XCore/Contained/index.html">Contained</A>: addTo, allOwners, deleteRecursive, delete_client, delete_client_check, delete_client_redirect, getDefaultClipboardSource, owner, removeFromOwner, setOwner. <BR><B>From</B> <A HREF="../../../Root/XCore/Object/index.html">Object</A>: addDaemon, addDiagramListener, addMissingSlot, addMultiDaemon, addPersistentDaemon, addStructuralFeature, allCompositeValues, allCompositeValuesAndSelf, allDaemonsWithId, allDaemonsWithTarget, applyMapping_client, calcChildrenSlots, changedOnDiagram, compositeValues, daemonNamed, daemonWithId, daemonWithIdAndTarget, daemons, daemonsActive, destroyDaemon, edit, fire, get, getAvailableMappings, getChildren, getChildrenSlots, getChildrenToolTips, getDiagramListenerNamed, getDiagramListeners, getProperties, getProperty, getStructuralFeatureNames, hasDaemonNamed, hasDaemonWithId, hasDaemonWithIdAndTarget, hasDaemonWithTarget, hasProperty, hasSlot, hasStructuralFeature, hotLoad, hotLoaded, ignoreBy, ignoreByAll, init, initSlots, machineInit, nodeEvent, observeBy, observeBy, observedBy, observedBy, oldEdit, orderSequence, orderSequence, propertyTarget, removeDaemon, removeDaemonNamed, removeDaemonsWithId, removeDaemonsWithTarget, removeDiagramListener, removeDiagramListeners, removeStructuralFeature, renameSlot, saveXTO, saveXTOFile, set, setDaemons, setDaemonsActive, setHotLoad, setProperty, showAndLayoutDiagram, showDiagram, slotDenied, slotMissing, slotMissing, slots, synchronise. <BR><B>From</B> <A HREF="../../../Root/XCore/Element/index.html">Element</A>: addTo, allHTMLEntries, allHTMLPackages, assignToGlobal, assignToGlobal, browse, browse_redirect, checkConstraints, copy, copyToClipboard, copyToClipboard_transaction, createDiagram, createDiagramType, createDiagramType, createDiagramType, createTool, cutToClipboard, cutToClipboard_transaction, deleteRecursive, deployXML, die, doc, doubleClick, edit, edit_redirect, equals, error, evaluateExpression, ferror, getChildren, getChildrenToolTips, getDefaultClipboardSource, getDefaultClipboardTarget, graphVizNode, hashCode, init, init, invokeOp, isDeleteProtected, isKindOf, isProtected, isReallyKindOf, isTypeOf, isViewProtected, isWithinNameSpace, labelString, legalNameChangeCheck, legalSlotChangeCheck, legalSlotChangeCheck, lift, nameString, noOperationFound, oclIsKindOf, oclIsTypeOf, of, oldShowDiagram, pasteFromClipboard, populateGraphViz, pprint, pprint, pprint, pprintln, print, println, removeDaemon, removeDaemon, save, save2, selectDiagram, selectModelBrowserNode, send, setDelegation, setOf, setRoleFillerDialog, showAndLayoutDiagram, showDiagram, showModelBrowserNode, slotAffectsLabel, systemId, toHTML, toSVG, toSnapshot, toSnapshot, toString, toType, writeHTML, writeHTML, writeHTMLAllEntries, writeHTMLAllPackages, writeHTMLIndex, writeHTMLOverview, writeXML, writeXMLFile, yield. <BR><TR><TD COLSPAN=2><a name="add"/><FONT FACE="Courier" SIZE="1">@Operation&#160;add(namedElement&#160;:&#160;NamedElement):Classifier<br>&#160;&#160;if&#160;namedElement.isKindOf(Grammar)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.addGrammar(namedElement);<br>&#160;&#160;&#160;&#160;super(namedElement)<br>&#160;&#160;else&#160;super(namedElement)<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="add"/><FONT FACE="Courier" SIZE="1">@Operation&#160;add(n&#160;:&#160;NamedElement):Classifier<br>&#160;&#160;if&#160;n.isKindOf(Operation)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.addOperation(n);<br>&#160;&#160;&#160;&#160;super(n)<br>&#160;&#160;elseif&#160;n.isKindOf(Constraint)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.addConstraint(n);<br>&#160;&#160;&#160;&#160;super(n)<br>&#160;&#160;else<br>&#160;&#160;&#160;&#160;if&#160;n.isKindOf(Attribute)<br>&#160;&#160;&#160;&#160;then&#160;false<br>&#160;&#160;&#160;&#160;else&#160;n.setOwner(self)<br>&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;super(n)<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="addConstraint"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addConstraint(c&#160;:&#160;Constraint):Classifier<br>&#160;&#160;self.resolveNameClash(c.name,constraints);<br>&#160;&#160;self.constraints&#160;:=&#160;constraints-&gt;including(c);<br>&#160;&#160;if&#160;self.hasSlot("level")&#160;andthen&#160;c.owner&#160;&lt;&gt;&#160;null&#160;andthen&#160;self.level&#160;&lt;&#160;c.owner.level<br>&#160;&#160;then&#160;true<br>&#160;&#160;else&#160;c.setOwner(self)<br>&#160;&#160;end&#160;;<br>&#160;&#160;self<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="addGrammar"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addGrammar(grammar&#160;:&#160;Grammar):XCore::Element<br>&#160;&#160;grammar.owner&#160;:=&#160;self;<br>&#160;&#160;grammar.startingSymbol&#160;:=&#160;name.name;<br>&#160;&#160;self.grammar&#160;:=&#160;grammar<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="addOperation"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addOperation(o&#160;:&#160;XCore::Element):Constraint<br>&#160;&#160;let&#160;findSeq&#160;=&#160;operations-&gt;asSeq;<br>&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;=&#160;false;<br>&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;=&#160;null<br>&#160;&#160;in&#160;declare(hidden,findSeq);<br>&#160;&#160;&#160;&#160;&#160;declare(hidden,findDone);<br>&#160;&#160;&#160;&#160;&#160;declare(hidden,findResult);<br>&#160;&#160;&#160;&#160;&#160;@While&#160;not&#160;findSeq-&gt;isEmpty&#160;and&#160;not&#160;findDone&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;oldO&#160;=&#160;findSeq-&gt;head&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findElement&#160;=&#160;findSeq-&gt;head<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;declare(hidden,findElement);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;oldO.name&#160;=&#160;o.name&#160;and&#160;oldO.arity&#160;=&#160;o.arity<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;:=&#160;true;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;:=&#160;oldO.removeFromOwner();<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;contents.remove(oldO.name);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.removeOperation(oldO)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findSeq&#160;:=&#160;findSeq-&gt;tail<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;findDone<br>&#160;&#160;&#160;&#160;&#160;then&#160;false<br>&#160;&#160;&#160;&#160;&#160;else&#160;findResult<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end;<br>&#160;&#160;self.operations&#160;:=&#160;operations-&gt;including(o);<br>&#160;&#160;o.setOwner(self);<br>&#160;&#160;resetOperatorTable();<br>&#160;&#160;self<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="addParent"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addParent(parent&#160;:&#160;XCore::Element):Element<br>&#160;&#160;if&#160;not&#160;self.inheritsFrom(parent)&#160;and&#160;not&#160;parent.inheritsFrom(self)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;@For&#160;default&#160;in&#160;self.defaultParents()&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;if&#160;parent.inheritsFrom(default)<br>&#160;&#160;&#160;&#160;&#160;&#160;then&#160;self.parents&#160;:=&#160;parents-&gt;excluding(default)<br>&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;self.parents&#160;:=&#160;parents-&gt;including(parent)<br>&#160;&#160;else&#160;self<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="allConstraints"/><FONT FACE="Courier" SIZE="1">@Operation&#160;allConstraints():Set(Constraint)<br>&#160;&#160;self.allParents()-&gt;iterate(parent&#160;all&#160;=&#160;constraints&#160;|<br>&#160;&#160;&#160;&#160;all-&gt;union(parent.allConstraints()))<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="allOperations"/><FONT FACE="Courier" SIZE="1">@Operation&#160;allOperations():Seq(Operation)<br>&#160;&#160;Kernel_operatorPrecedenceList(self)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="allParents"/><FONT FACE="Courier" SIZE="1">@Operation&#160;allParents():Set(Classifier)<br>&#160;&#160;let&#160;P&#160;=&#160;parents;<br>&#160;&#160;&#160;&#160;&#160;&#160;allP&#160;=&#160;Seq{}<br>&#160;&#160;in&#160;@While&#160;not&#160;P-&gt;isEmpty&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;p&#160;=&#160;P-&gt;sel<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;allP&#160;:=&#160;Seq{p&#160;|&#160;allP-&gt;excluding(p)};<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;P&#160;:=&#160;P-&gt;excluding(p)-&gt;union(p.parents)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;allP-&gt;reverse-&gt;asSet<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="availableParents"/><FONT FACE="Courier" SIZE="1">@Operation&#160;availableParents():Set(Classifier)<br>&#160;&#160;let&#160;availableClassifiers&#160;=&#160;if&#160;owner&#160;&lt;&gt;&#160;null&#160;andthen&#160;owner.isKindOf(Package)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;owner.availableContents(self.of())&#160;+&#160;XOCL.availableContents(self.of())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;self.imports-&gt;iterate(i&#160;importedContents&#160;=&#160;Set{}&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;importedContents&#160;+&#160;i.contents()-&gt;select(i&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i&#160;&lt;&gt;&#160;null&#160;andthen&#160;i&#160;&lt;&gt;&#160;self&#160;andthen&#160;i.of()&#160;=&#160;self.of()))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;&#160;allParents&#160;=&#160;self.allParents()<br>&#160;&#160;in&#160;availableClassifiers-&gt;excluding(self)-&gt;select(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;not&#160;allParents-&gt;includes(c))<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="checkParents"/><FONT FACE="Courier" SIZE="1">@Operation&#160;checkParents():Classifier<br>&#160;&#160;let&#160;finalParents&#160;=&#160;parents-&gt;select(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.isFinal)<br>&#160;&#160;in&#160;if&#160;not&#160;finalParents-&gt;isEmpty<br>&#160;&#160;&#160;&#160;&#160;then&#160;throw&#160;Exceptions::IllegalParentsException(self,finalParents,"Cannot&#160;inherit&#160;from&#160;final&#160;classifiers.")<br>&#160;&#160;&#160;&#160;&#160;else&#160;self<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="classify"/><FONT FACE="Courier" SIZE="1">@Operation&#160;classify(e&#160;:&#160;Element):ConstraintReport<br>&#160;&#160;@Letrec&#160;<br>&#160;&#160;&#160;&#160;classify(classifier&#160;:&#160;Classifier,prev&#160;:&#160;Classifier,done&#160;:&#160;Set(Constraint),level&#160;:&#160;Integer):Set(ConstraintReport)&#160;=&#160;let&#160;C&#160;:&#160;Set(Constraint)&#160;=&#160;classifier.allConstraints()&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reports&#160;:&#160;Set(ConstraintReport)&#160;=&#160;runConstraints(C-&gt;reject(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;done-&gt;contains(c)),level)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;prev&#160;:=&#160;classifier;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;classifier&#160;:=&#160;classifier.of();<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;prev&#160;=&#160;classifier<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;reports<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;reports&#160;+&#160;classify(classifier,prev,done&#160;+&#160;C,level&#160;+&#160;1)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;runConstraints(C&#160;:&#160;Set(Constraint),level&#160;:&#160;Integer):Set(ConstraintReport)&#160;=&#160;let&#160;reports&#160;:&#160;Set(ConstraintReport)&#160;=&#160;Set{}<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;@While&#160;not&#160;C-&gt;isEmpty&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;c&#160;=&#160;C-&gt;sel&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;report&#160;=&#160;try<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c(e,c.owner,level)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;catch(exception)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ConstraintReport(e,c,false,"Error&#160;while&#160;performing&#160;classification:&#160;"&#160;+&#160;exception.message)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;reports&#160;:=&#160;reports-&gt;including(report);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;C&#160;:=&#160;C-&gt;excluding(c)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reports<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;in&#160;let&#160;reports&#160;:&#160;Set(ConstraintReport)&#160;=&#160;classify(self,self,Set{},1)<br>&#160;&#160;&#160;&#160;in&#160;ConstraintReport(e,null,reports-&gt;forAll(r&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;r.satisfied()),"",reports-&gt;asSeq)<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="default"/><FONT FACE="Courier" SIZE="1">@Operation&#160;default():Element<br>&#160;&#160;default<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="defaultParents"/><FONT FACE="Courier" SIZE="1">@Operation&#160;defaultParents():Set(Classifier)<br>&#160;&#160;Set{Element}<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="dependencies"/><FONT FACE="Courier" SIZE="1">@Operation&#160;dependencies():Set(Element)<br>&#160;&#160;imports-&gt;asSet&#160;+&#160;operations-&gt;iterate(o&#160;D&#160;=&#160;Set{}&#160;|<br>&#160;&#160;&#160;&#160;D&#160;+&#160;o.dependencies())<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="diagramToolDescriptors"/><FONT FACE="Courier" SIZE="1">@Operation&#160;diagramToolDescriptors():Set(Structure::ToolDescriptor)<br>&#160;&#160;self.toolDescriptors()-&gt;select(t&#160;|<br>&#160;&#160;&#160;&#160;t.type().isReallyKindOf(ToolType))<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="dropInClassDiagram"/><FONT FACE="Courier" SIZE="1">@Operation&#160;dropInClassDiagram():XCore::Element<br>&#160;&#160;let&#160;mappingClient&#160;=&#160;xmf.findClient(Clients::MappingMapping::MappingClient)<br>&#160;&#160;in&#160;if&#160;mappingClient&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;mappings&#160;=&#160;mappingClient.mappings<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;not&#160;mappings-&gt;isEmpty<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;stringOp&#160;=&#160;@Operation&#160;anonymous(mapping&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mapping.package.path()&#160;+&#160;"&#160;["&#160;+&#160;mapping.diagram.name&#160;+&#160;"]"<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sortOp&#160;=&#160;@Operation&#160;anonymous(m1&#160;:&#160;XCore::Element,m2&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;stringOp(m1)&#160;&lt;&#160;stringOp(m2)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;orderedMappings&#160;=&#160;mappings-&gt;asSeq.qsort(sortOp)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choice&#160;=&#160;xmf.select("Drop&#160;into&#160;Class&#160;Diagram","Please&#160;choose&#160;a&#160;class&#160;diagram&#160;to&#160;drop&#160;into.",orderedMappings,null,stringOp)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;choice&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;findSeq&#160;=&#160;mappings-&gt;asSeq;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;=&#160;false;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;=&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;declare(hidden,findSeq);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;declare(hidden,findDone);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;declare(hidden,findResult);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@While&#160;not&#160;findSeq-&gt;isEmpty&#160;and&#160;not&#160;findDone&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;map&#160;=&#160;findSeq-&gt;head&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findElement&#160;=&#160;findSeq-&gt;head<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;declare(hidden,findElement);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;map&#160;=&#160;choice<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;:=&#160;true;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;:=&#160;map.addDropped(self)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findSeq&#160;:=&#160;findSeq-&gt;tail<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;findDone<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findResult<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;else&#160;format(stdout,"Class&#160;diagram&#160;client&#160;not&#160;available.~%")<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="formToolDescriptors"/><FONT FACE="Courier" SIZE="1">@Operation&#160;formToolDescriptors():Set(Structure::ToolDescriptor)<br>&#160;&#160;self.toolDescriptors()-&gt;select(t&#160;|<br>&#160;&#160;&#160;&#160;t.type().isReallyKindOf(ToolType))<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="getConstraint"/><FONT FACE="Courier" SIZE="1">@Operation&#160;getConstraint(name&#160;:&#160;String):Constraint<br>&#160;&#160;self.getNamedElement(self.allConstraints(),name)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="getOperation"/><FONT FACE="Courier" SIZE="1">@Operation&#160;getOperation(name&#160;:&#160;String):Operation<br>&#160;&#160;self.getNamedElement(self.allOperations(),name)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="getOperation"/><FONT FACE="Courier" SIZE="1">@Operation&#160;getOperation(name&#160;:&#160;String,arity&#160;:&#160;Integer):Operation<br>&#160;&#160;let&#160;findSeq&#160;=&#160;self.allOperations()-&gt;asSeq;<br>&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;=&#160;false;<br>&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;=&#160;null<br>&#160;&#160;in&#160;declare(hidden,findSeq);<br>&#160;&#160;&#160;&#160;&#160;declare(hidden,findDone);<br>&#160;&#160;&#160;&#160;&#160;declare(hidden,findResult);<br>&#160;&#160;&#160;&#160;&#160;@While&#160;not&#160;findSeq-&gt;isEmpty&#160;and&#160;not&#160;findDone&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;op&#160;=&#160;findSeq-&gt;head&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findElement&#160;=&#160;findSeq-&gt;head<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;declare(hidden,findElement);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;op.name.toString()&#160;=&#160;name.toString()&#160;and&#160;op.arity()&#160;=&#160;arity<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;:=&#160;true;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;:=&#160;findElement<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findSeq&#160;:=&#160;findSeq-&gt;tail<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;findDone<br>&#160;&#160;&#160;&#160;&#160;then&#160;null<br>&#160;&#160;&#160;&#160;&#160;else&#160;findResult<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="grammar"/><FONT FACE="Courier" SIZE="1">@Operation&#160;grammar():Grammar<br>&#160;&#160;grammar<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="hasOperation"/><FONT FACE="Courier" SIZE="1">@Operation&#160;hasOperation(name&#160;:&#160;XCore::Element,arity&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;operations-&gt;exists(op&#160;|<br>&#160;&#160;&#160;&#160;op.name&#160;=&#160;name&#160;and&#160;op.arity&#160;=&#160;arity)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="inheritsFrom"/><FONT FACE="Courier" SIZE="1">@Operation&#160;inheritsFrom(c&#160;:&#160;Classifier):Boolean<br>&#160;&#160;if&#160;not&#160;self.initialized()<br>&#160;&#160;then&#160;self.init()<br>&#160;&#160;else&#160;false<br>&#160;&#160;end&#160;;<br>&#160;&#160;let&#160;classifier&#160;=&#160;self;<br>&#160;&#160;&#160;&#160;&#160;&#160;classifiers&#160;=&#160;parents<br>&#160;&#160;in&#160;@While&#160;(classifier&#160;&lt;&gt;&#160;c)&#160;and&#160;(not&#160;classifiers-&gt;isEmpty)&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;classifier&#160;:=&#160;classifiers-&gt;sel;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;classifier.initialized()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;classifier.init()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;classifiers&#160;:=&#160;classifiers-&gt;excluding(classifier)-&gt;union(classifier.parents)<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;classifier&#160;=&#160;c<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="init"/><FONT FACE="Courier" SIZE="1">@Operation&#160;init():Classifier<br>&#160;&#160;self.initOperations();<br>&#160;&#160;self.initParents();<br>&#160;&#160;self.initConstraints();<br>&#160;&#160;super()<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="initConstraints"/><FONT FACE="Courier" SIZE="1">@Operation&#160;initConstraints():XCore::Element<br>&#160;&#160;@For&#160;c&#160;in&#160;self.constraints&#160;do<br>&#160;&#160;&#160;&#160;c.init()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="initOperations"/><FONT FACE="Courier" SIZE="1">@Operation&#160;initOperations():Element<br>&#160;&#160;operations-&gt;iterate(o&#160;ignore&#160;=&#160;null&#160;|<br>&#160;&#160;&#160;&#160;o.init());<br>&#160;&#160;self<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="initParents"/><FONT FACE="Courier" SIZE="1">@Operation&#160;initParents():Element<br>&#160;&#160;if&#160;parents.isKindOf(Operation)&#160;and&#160;owner&#160;&lt;&gt;&#160;null<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.parents&#160;:=&#160;parents();<br>&#160;&#160;&#160;&#160;self.checkParents()<br>&#160;&#160;elseif&#160;parents&#160;=&#160;Set{}<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.parents&#160;:=&#160;self.defaultParents();<br>&#160;&#160;&#160;&#160;self.checkParents()<br>&#160;&#160;else&#160;self<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="initialized"/><FONT FACE="Courier" SIZE="1">@Operation&#160;initialized():Boolean<br>&#160;&#160;parents.isKindOf(SetOfElement)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="invoke"/><FONT FACE="Courier" SIZE="1">@Operation&#160;invoke(target&#160;:&#160;Element,args&#160;:&#160;Seq(Element)):Element<br>&#160;&#160;self.new(args)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="javaTypeName"/><FONT FACE="Courier" SIZE="1">@Operation&#160;javaTypeName(package&#160;:&#160;Package):String<br>&#160;&#160;@Case&#160;self&#160;of<br>&#160;&#160;&#160;&#160;Set(T&#160;:&#160;XCore::Element)&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;if&#160;T.isKindOf(DataType)<br>&#160;&#160;&#160;&#160;&#160;&#160;then&#160;T.javaTypeName(package)&#160;+&#160;"[]"<br>&#160;&#160;&#160;&#160;&#160;&#160;else&#160;"java.util.Vector"<br>&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;Seq(T&#160;:&#160;XCore::Element)&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;if&#160;T.isKindOf(DataType)<br>&#160;&#160;&#160;&#160;&#160;&#160;then&#160;T.javaTypeName(package)&#160;+&#160;"[]"<br>&#160;&#160;&#160;&#160;&#160;&#160;else&#160;"java.util.Vector"<br>&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;[&#160;Integer&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;"int"<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;[&#160;Boolean&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;"boolean"<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;[&#160;String&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;"String"<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;[&#160;Float&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;"double"<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;[&#160;Table&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;"java.util.Hashtable"<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;else&#160;if&#160;package.classes-&gt;includes(self)<br>&#160;&#160;&#160;&#160;then&#160;name<br>&#160;&#160;&#160;&#160;else&#160;"Object"<br>&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="mapType"/><FONT FACE="Courier" SIZE="1">@Operation&#160;mapType(type&#160;:&#160;XCore::Element,nameSpaces&#160;:&#160;Seq(NameSpace)):XCore::Element<br>&#160;&#160;let&#160;tag&#160;=&#160;type-&gt;at(0)<br>&#160;&#160;in&#160;@Case&#160;tag&#160;of<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;[&#160;1&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;path&#160;=&#160;type-&gt;at(1)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;args&#160;=&#160;type-&gt;at(2)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;typeOp&#160;=&#160;path-&gt;ref(nameSpaces);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;types&#160;=&#160;args-&gt;collect(arg&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Classifier::mapType(arg,nameSpaces))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;typeOp&#160;=&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;self.error("Cannot&#160;find&#160;the&#160;type&#160;operator&#160;"&#160;+&#160;path.toString())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;typeOp.invoke(typeOp,types)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;[&#160;2&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;path&#160;=&#160;type-&gt;at(1)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c&#160;=&#160;path-&gt;ref(nameSpaces)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;c&#160;=&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;self.error("Cannot&#160;find&#160;type&#160;"&#160;+&#160;path.toString())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;c<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;[&#160;3&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;domains&#160;=&#160;type-&gt;at(1);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;range&#160;=&#160;type-&gt;at(2)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;OpType(domains-&gt;collect(d&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Classifier::mapType(d,nameSpaces)),Classifier::mapType(range,nameSpaces))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;self.error("unknown&#160;format&#160;for&#160;signature&#160;entry&#160;"&#160;+&#160;type.toString())<br>&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="new"/><FONT FACE="Courier" SIZE="1">@Operation&#160;new(args&#160;:&#160;Seq(Element)):Element<br>&#160;&#160;self.new().init(args)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="new"/><FONT FACE="Courier" SIZE="1">@Operation&#160;new():Element<br>&#160;&#160;default<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="newConstraint"/><FONT FACE="Courier" SIZE="1">@Operation&#160;newConstraint():XCore::Element<br>&#160;&#160;let&#160;name&#160;=&#160;self.newName("con")&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;constraintString&#160;=&#160;"@Constraint&#160;"&#160;+&#160;name&#160;+&#160;"&#160;true&#160;fail&#160;"Unspecified&#160;Reason"&#160;end"&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;conAS&#160;=&#160;OCL::OCL.grammar.parseString(constraintString,"Exp1",Seq{XOCL})&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;conASfun&#160;=&#160;Compiler::compileToFun("",conAS,Seq{},Seq{Seq{2&#160;|&#160;Root.contents},Seq{2&#160;|&#160;XCore.contents}},true)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;constraint&#160;=&#160;conASfun()<br>&#160;&#160;in&#160;constraint.setName(name);<br>&#160;&#160;&#160;&#160;&#160;self.add(constraint)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="newOperation"/><FONT FACE="Courier" SIZE="1">@Operation&#160;newOperation():XCore::Element<br>&#160;&#160;let&#160;opName&#160;=&#160;self.newName("op")&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;opString&#160;=&#160;"@Operation&#160;"&#160;+&#160;opName&#160;+&#160;"()&#160;null&#160;end"&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;opAS&#160;=&#160;OCL::OCL.grammar.parseString(opString,"Exp1",Seq{XOCL})&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;opASfun&#160;=&#160;Compiler::compileToFun("",opAS,Seq{},Seq{Seq{2&#160;|&#160;Root.contents},Seq{2&#160;|&#160;XCore.contents}},true)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;operation&#160;=&#160;opASfun()<br>&#160;&#160;in&#160;self.add(operation);<br>&#160;&#160;&#160;&#160;&#160;operation.init()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="newOtherOperation"/><FONT FACE="Courier" SIZE="1">@Operation&#160;newOtherOperation():XCore::Element<br>&#160;&#160;let&#160;metaClasses&#160;=&#160;if&#160;self.owner.isKindOf(Package)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;self.owner.metaPackage.allContents()-&gt;select(c&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c.isKindOf(Class)&#160;and&#160;c&#160;&lt;&gt;&#160;null)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;Set{}<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;operations&#160;=&#160;metaClasses-&gt;select(a&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;a.allParents()-&gt;includes(CompiledOperation))-&gt;asSeq&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;operationof&#160;=&#160;xmf.select("Operation&apos;s&#160;class","Please&#160;choose&#160;a&#160;metaclass&#160;for&#160;the&#160;operations",operations,null,null)<br>&#160;&#160;in&#160;if&#160;operationof&#160;&lt;&gt;&#160;null<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;opName&#160;=&#160;self.newName("op")&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;opString&#160;=&#160;"@Operation&#160;"&#160;+&#160;opName&#160;+&#160;"()&#160;null&#160;end"&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;opAS&#160;=&#160;OCL::OCL.grammar.parseString(opString,"Exp1",Seq{XOCL})&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;opASfun&#160;=&#160;Compiler::compileToFun("",opAS,Seq{},Seq{Seq{2&#160;|&#160;Root.contents},Seq{2&#160;|&#160;XCore.contents}},true)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;operation&#160;=&#160;opASfun()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;operation.setProperty("of",operationof);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.add(operation);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;operation.init()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="remove"/><FONT FACE="Courier" SIZE="1">@Operation&#160;remove(n&#160;:&#160;NamedElement):Classifier<br>&#160;&#160;if&#160;n.isKindOf(Operation)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.removeOperation(n);<br>&#160;&#160;&#160;&#160;super(n)<br>&#160;&#160;elseif&#160;n.isKindOf(Constraint)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.removeConstraint(n);<br>&#160;&#160;&#160;&#160;super(n)<br>&#160;&#160;else&#160;super(n)<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="removeConstraint"/><FONT FACE="Courier" SIZE="1">@Operation&#160;removeConstraint(c&#160;:&#160;Constraint):Classifier<br>&#160;&#160;self.constraints&#160;:=&#160;constraints-&gt;excluding(c);<br>&#160;&#160;self<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="removeOperation"/><FONT FACE="Courier" SIZE="1">@Operation&#160;removeOperation(o&#160;:&#160;XCore::Element):Classifier<br>&#160;&#160;self.operations&#160;:=&#160;operations-&gt;excluding(o);<br>&#160;&#160;self<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="removeParent"/><FONT FACE="Courier" SIZE="1">@Operation&#160;removeParent(parent&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;let&#160;defaults&#160;=&#160;self.defaultParents()<br>&#160;&#160;in&#160;self.parents&#160;:=&#160;parents-&gt;excluding(parent);<br>&#160;&#160;&#160;&#160;&#160;@For&#160;default&#160;in&#160;defaults&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;parents-&gt;exists(parent&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;parent.inheritsFrom(default))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;self.parents&#160;:=&#160;parents-&gt;including(default)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="repopulate"/><FONT FACE="Courier" SIZE="1">@Operation&#160;repopulate(namedElement&#160;:&#160;XCore::Element):Boolean<br>&#160;&#160;if&#160;namedElement.isReallyKindOf(Classifier)<br>&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;self.default&#160;:=&#160;namedElement.default;<br>&#160;&#160;&#160;&#160;self.grammar&#160;:=&#160;namedElement.grammar;<br>&#160;&#160;&#160;&#160;self.bindings&#160;:=&#160;namedElement.bindings;<br>&#160;&#160;&#160;&#160;@For&#160;c&#160;in&#160;namedElement.constraints&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;self.add(c)<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;@For&#160;op&#160;in&#160;namedElement.operations&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;self.add(op)<br>&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;self.parents&#160;:=&#160;namedElement.parents;<br>&#160;&#160;&#160;&#160;self.isFinal&#160;:=&#160;namedElement.isFinal;<br>&#160;&#160;&#160;&#160;true<br>&#160;&#160;else&#160;false<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="sendInstance"/><FONT FACE="Courier" SIZE="1">@Operation&#160;sendInstance(element&#160;:&#160;XCore::Element,message&#160;:&#160;XCore::Element,args&#160;:&#160;XCore::Element,setDefault&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;if&#160;setDefault<br>&#160;&#160;then&#160;Kernel_setDefaultSendMOP(element.of(),true)<br>&#160;&#160;else&#160;false<br>&#160;&#160;end&#160;;<br>&#160;&#160;let&#160;name&#160;=&#160;if&#160;message.isKindOf(Symbol)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;message<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;Symbol(message)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;&#160;operations&#160;=&#160;element.of().allOperations()-&gt;asSeq&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;index&#160;=&#160;0;<br>&#160;&#160;&#160;&#160;&#160;&#160;size&#160;=&#160;operations-&gt;size;<br>&#160;&#160;&#160;&#160;&#160;&#160;found&#160;=&#160;false;<br>&#160;&#160;&#160;&#160;&#160;&#160;op&#160;=&#160;null;<br>&#160;&#160;&#160;&#160;&#160;&#160;arity&#160;=&#160;args-&gt;size<br>&#160;&#160;in&#160;@While&#160;index&#160;&lt;&#160;size&#160;and&#160;not&#160;found&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;op&#160;:=&#160;operations-&gt;at(index);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;op.name&#160;=&#160;name&#160;andthen&#160;(op.arity()&#160;=&#160;arity&#160;or&#160;(op.isVarArgs()&#160;and&#160;(arity&#160;&gt;=&#160;(op.arity()&#160;-&#160;1))))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;found&#160;:=&#160;true<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;index&#160;:=&#160;index&#160;+&#160;1<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;if&#160;found<br>&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;operations&#160;:=&#160;operations-&gt;drop(index);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;op.setSupers(operations);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;op.invoke(element,args)<br>&#160;&#160;&#160;&#160;&#160;else&#160;element.noOperationFound(message,args)<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="sendInstance"/><FONT FACE="Courier" SIZE="1">@Operation&#160;sendInstance(element&#160;:&#160;XCore::Element,message&#160;:&#160;XCore::Element,args&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.sendInstance(element,message,args,true)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="setParents_client"/><FONT FACE="Courier" SIZE="1">@Operation&#160;setParents_client():XCore::Element<br>&#160;&#160;let&#160;available&#160;=&#160;(self.availableParents()&#160;+&#160;self.parents)-&gt;asSeq.sortNamedElements_CaseIndependent()&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;current&#160;=&#160;self.parents-&gt;asSeq&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;stringOp&#160;=&#160;@Operation&#160;anonymous(parent&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;parent.name().toString()&#160;+&#160;"&#160;from&#160;"&#160;+&#160;parent.owner.toString()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;selected&#160;=&#160;xmf.selects("Set&#160;Parents","Choose&#160;parent&#160;classifier&#160;to&#160;add/remove:",available,current,stringOp)<br>&#160;&#160;in&#160;if&#160;selected&#160;&lt;&gt;&#160;0&#160;-&#160;1<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;added&#160;=&#160;selected&#160;-&#160;current;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;removed&#160;=&#160;current&#160;-&#160;selected<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;@For&#160;p&#160;in&#160;added&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.addParent(p)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@For&#160;p&#160;in&#160;removed&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.removeParent(p)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="shadowOperation"/><FONT FACE="Courier" SIZE="1">@Operation&#160;shadowOperation(op&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.operations&#160;:=&#160;Seq{op&#160;|&#160;operations-&gt;asSeq}-&gt;asSet<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="target"/><FONT FACE="Courier" SIZE="1">@Operation&#160;target():Element<br>&#160;&#160;self<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="toHTML"/><FONT FACE="Courier" SIZE="1">@Operation&#160;toHTML():XCore::Element<br>&#160;&#160;xmf.browse(xmf.docDir()&#160;+&#160;"/"&#160;+&#160;self.pathSeq()-&gt;separateWith("/")&#160;+&#160;"/index.html")<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="toType"/><FONT FACE="Courier" SIZE="1">@Operation&#160;toType(args&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;operation.getDerivedValue(cache,self,args)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="toolDescriptors"/><FONT FACE="Courier" SIZE="1">@Operation&#160;toolDescriptors():Set(ToolDescriptor)<br>&#160;&#160;self.contentsOf(ToolDescriptor)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="typeDistance"/><FONT FACE="Courier" SIZE="1">@Operation&#160;typeDistance():Boolean<br>&#160;&#160;if&#160;self&#160;=&#160;Class<br>&#160;&#160;then&#160;0<br>&#160;&#160;else&#160;self.of().typeDistance()&#160;+&#160;1<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
</FONT>
</TD>
</TR>
</TABLE>
</HTML>
