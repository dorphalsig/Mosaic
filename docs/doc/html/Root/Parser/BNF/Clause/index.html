<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<TITLE>
Clause
</TITLE>
</HEAD>
<FONT SIZE="+2"><B>Clause</B></FONT><BR><BR><HR>
<FONT SIZE="+1"><B>Overview</B></FONT><BR>
<P>
No Documentation Specified
<BR><HR><BR>
<B>Parents</B>
<A HREF="../../../../Root/XCore/NamedElement/index.html">NamedElement</A>
,<A HREF="../../../../Root/XCore/Contained/index.html">Contained</A>
,<A HREF="../../../../Root/XCore/Object/index.html">Object</A>
,<A HREF="../../../../Root/XCore/Element/index.html">Element</A>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructors</B></FONT></TD>
</TR>
<TR><TD>Clause(name,body)</TD><TD> No Documentation </TD></TR>
<TR><TD>Clause(name,args,body)</TD><TD> No Documentation </TD></TR>
<TR><TD>Clause(name,args,body,blocks)</TD><TD> No Documentation </TD></TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=3><FONT SIZE="+2">
<B>Attributes</B></FONT></TD>
</TR>
<TR><TD><B>args</B></TD><TD><A HREF="../../../../Root/XCore/String/index.html">Seq(String)<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>blocks</B></TD><TD><A HREF="../../../../Root/Parser/BNF/Block/index.html">Seq(Block)<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>body</B></TD><TD><A HREF="../../../../Root/Parser/BNF/Recognizer/index.html">Recognizer<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>cache</B></TD><TD><A HREF="../../../../Root/XCore/Table/index.html">Table<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>first</B></TD><TD><A HREF="../../../../Root/XCore/String/index.html">Set(String)<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>follow</B></TD><TD><A HREF="../../../../Root/XCore/String/index.html">Set(String)<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>nullable</B></TD><TD><A HREF="../../../../Root/XCore/Boolean/index.html">Boolean<A></TD><TD>No Documentation Specified</TD></TR>
<TR>
<TD COLSPAN=3>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../../Root/XCore/NamedElement/index.html">NamedElement</A>: name. <BR><B>From</B> <A HREF="../../../../Root/XCore/Contained/index.html">Contained</A>: owner. <BR><B>From</B> <A HREF="../../../../Root/XCore/Element/index.html">Element</A>: roleFiller. <BR></FONT>
</TD>
</TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="2" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Operations</B></FONT></TD>
</TR>
<TR><TD><B><a href="#addToFirst">addToFirst</a>(v:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#addToFollow">addToFollow</a>(v:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#blocks">blocks</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#cache">cache</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#calculateSets">calculateSets</a>(grammar:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Boolean/index.html">Boolean<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#clean">clean</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#cnf">cnf</a>(grammar:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#code">code</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#code">code</a>(outputChannel:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,indent:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#compileLocals">compileLocals</a>(locals:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,instrs:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,grammar:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#copy">copy</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#deleteFromFirst">deleteFromFirst</a>(v:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#deleteFromFollow">deleteFromFollow</a>(v:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#dprint">dprint</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#equal">equal</a>(clause:<A HREF="../../../../Root/Parser/BNF/Clause/index.html">Clause<A>):<A HREF="../../../../Root/XCore/Boolean/index.html">Boolean<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#expected">expected</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#first">first</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#follow">follow</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#last">last</a>(g:<A HREF="../../../../Root/Parser/BNF/Grammar/index.html">Grammar<A>,called:<A HREF="../../../../Root/XCore/String/index.html">Seq(String)<A>):<A HREF="../../../../Root/XCore/String/index.html">Set(String)<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#lift">lift</a>():<A HREF="../../../../Root/XCore/Performable/index.html">Performable<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#liftOrs">liftOrs</a>(grammar:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#liftOrsInner">liftOrsInner</a>(grammar:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,locals:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,body:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,next:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#liftOrsOuter">liftOrsOuter</a>(grammar:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,body:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#nullable">nullable</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#predict">predict</a>(grammar:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,token:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,type:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#predict">predict</a>(grammar:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/Parser/BNF/Block/index.html">Seq(Block)<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#setBlocks">setBlocks</a>(v:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#setCache">setCache</a>(v:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#setFirst">setFirst</a>(v:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#setFollow">setFollow</a>(v:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#setNullable">setNullable</a>(v:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#setOwner">setOwner</a>(owner:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#terminals">terminals</a>():<A HREF="../../../../Root/XCore/String/index.html">Set(String)<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#transform">transform</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR>
<TD COLSPAN=2>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../../Root/XCore/NamedElement/index.html">NamedElement</A>: getNamedElement, href, labelString, legalNameChangeCheck, name, path, pathSeq, repopulate, setName, toString. <BR><B>From</B> <A HREF="../../../../Root/XCore/Contained/index.html">Contained</A>: addTo, allOwners, deleteRecursive, delete_client, delete_client_check, delete_client_redirect, getDefaultClipboardSource, owner, removeFromOwner, setOwner. <BR><B>From</B> <A HREF="../../../../Root/XCore/Object/index.html">Object</A>: addDaemon, addDiagramListener, addMissingSlot, addMultiDaemon, addPersistentDaemon, addStructuralFeature, allCompositeValues, allCompositeValuesAndSelf, allDaemonsWithId, allDaemonsWithTarget, applyMapping_client, calcChildrenSlots, changedOnDiagram, compositeValues, daemonNamed, daemonWithId, daemonWithIdAndTarget, daemons, daemonsActive, destroyDaemon, edit, fire, get, getAvailableMappings, getChildren, getChildrenSlots, getChildrenToolTips, getDiagramListenerNamed, getDiagramListeners, getProperties, getProperty, getStructuralFeatureNames, hasDaemonNamed, hasDaemonWithId, hasDaemonWithIdAndTarget, hasDaemonWithTarget, hasProperty, hasSlot, hasStructuralFeature, hotLoad, hotLoaded, ignoreBy, ignoreByAll, init, initSlots, machineInit, nodeEvent, observeBy, observeBy, observedBy, observedBy, oldEdit, orderSequence, orderSequence, propertyTarget, removeDaemon, removeDaemonNamed, removeDaemonsWithId, removeDaemonsWithTarget, removeDiagramListener, removeDiagramListeners, removeStructuralFeature, renameSlot, saveXTO, saveXTOFile, set, setDaemons, setDaemonsActive, setHotLoad, setProperty, showAndLayoutDiagram, showDiagram, slotDenied, slotMissing, slotMissing, slots, synchronise. <BR><B>From</B> <A HREF="../../../../Root/XCore/Element/index.html">Element</A>: addTo, allHTMLEntries, allHTMLPackages, assignToGlobal, assignToGlobal, browse, browse_redirect, checkConstraints, copy, copyToClipboard, copyToClipboard_transaction, createDiagram, createDiagramType, createDiagramType, createDiagramType, createTool, cutToClipboard, cutToClipboard_transaction, deleteRecursive, deployXML, die, doc, doubleClick, edit, edit_redirect, equals, error, evaluateExpression, ferror, getChildren, getChildrenToolTips, getDefaultClipboardSource, getDefaultClipboardTarget, graphVizNode, hashCode, init, init, invokeOp, isDeleteProtected, isKindOf, isProtected, isReallyKindOf, isTypeOf, isViewProtected, isWithinNameSpace, labelString, legalNameChangeCheck, legalSlotChangeCheck, legalSlotChangeCheck, lift, nameString, noOperationFound, oclIsKindOf, oclIsTypeOf, of, oldShowDiagram, pasteFromClipboard, populateGraphViz, pprint, pprint, pprint, pprintln, print, println, removeDaemon, removeDaemon, save, save2, selectDiagram, selectModelBrowserNode, send, setDelegation, setOf, setRoleFillerDialog, showAndLayoutDiagram, showDiagram, showModelBrowserNode, slotAffectsLabel, systemId, toHTML, toSVG, toSnapshot, toSnapshot, toString, toType, writeHTML, writeHTML, writeHTMLAllEntries, writeHTMLAllPackages, writeHTMLIndex, writeHTMLOverview, writeXML, writeXMLFile, yield. <BR><TR><TD COLSPAN=2><a name="addToFirst"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addToFirst[EXTENDER=true](v&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.first&#160;:=&#160;self.first-&gt;including(v)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="addToFollow"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addToFollow[EXTENDER=true](v&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.follow&#160;:=&#160;self.follow-&gt;including(v)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="blocks"/><FONT FACE="Courier" SIZE="1">@Operation&#160;blocks[ACCESSOR=true]():XCore::Element<br>&#160;&#160;self.blocks<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="cache"/><FONT FACE="Courier" SIZE="1">@Operation&#160;cache[ACCESSOR=true]():XCore::Element<br>&#160;&#160;self.cache<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="calculateSets"/><FONT FACE="Courier" SIZE="1">@Operation&#160;calculateSets(grammar&#160;:&#160;XCore::Element):Boolean<br>&#160;&#160;let&#160;changed&#160;=&#160;false<br>&#160;&#160;in&#160;@For&#160;block&#160;in&#160;blocks&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;changed&#160;:=&#160;changed&#160;or&#160;block.calculateSets(grammar,self)<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;changed<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="clean"/><FONT FACE="Courier" SIZE="1">@Operation&#160;clean():XCore::Element<br>&#160;&#160;self.first&#160;:=&#160;Set{};<br>&#160;&#160;self.follow&#160;:=&#160;Set{}<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="cnf"/><FONT FACE="Courier" SIZE="1">@Operation&#160;cnf(grammar&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;let&#160;bodies&#160;=&#160;body.cnf(grammar)-&gt;collect(instrs&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.compileLocals(args-&gt;asSet,instrs,grammar))<br>&#160;&#160;in&#160;CompiledClause(name,args,body,bodies)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="code"/><FONT FACE="Courier" SIZE="1">@Operation&#160;code():XCore::Element<br>&#160;&#160;let&#160;soc&#160;=&#160;IO::StringOutputChannel()<br>&#160;&#160;in&#160;self.code(soc,0);<br>&#160;&#160;&#160;&#160;&#160;soc.getString()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="code"/><FONT FACE="Courier" SIZE="1">@Operation&#160;code(outputChannel&#160;:&#160;XCore::Element,indent&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;format(outputChannel,"~V~S&#160;::=&#160;",Seq{indent,name});<br>&#160;&#160;body.code(outputChannel);<br>&#160;&#160;format(outputChannel,".~%")<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="compileLocals"/><FONT FACE="Courier" SIZE="1">@Operation&#160;compileLocals(locals&#160;:&#160;XCore::Element,instrs&#160;:&#160;XCore::Element,grammar&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;Block(0,instrs).compileLocals(args,locals,grammar)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="copy"/><FONT FACE="Courier" SIZE="1">@Operation&#160;copy():XCore::Element<br>&#160;&#160;CompiledClause(name,args,body,Seq{})<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="deleteFromFirst"/><FONT FACE="Courier" SIZE="1">@Operation&#160;deleteFromFirst[REDUCER=true](v&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.first&#160;:=&#160;self.first-&gt;excluding(v)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="deleteFromFollow"/><FONT FACE="Courier" SIZE="1">@Operation&#160;deleteFromFollow[REDUCER=true](v&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.follow&#160;:=&#160;self.follow-&gt;excluding(v)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="dprint"/><FONT FACE="Courier" SIZE="1">@Operation&#160;dprint():XCore::Element<br>&#160;&#160;format(stdout,"~S(~{,~;~S~}):&#160;nullable=~S&#160;first&#160;=&#160;~S&#160;follow=~S~%",Seq{name,args,nullable,first,follow});<br>&#160;&#160;@For&#160;block&#160;in&#160;blocks&#160;do<br>&#160;&#160;&#160;&#160;block.dprint()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="equal"/><FONT FACE="Courier" SIZE="1">@Operation&#160;equal(clause&#160;:&#160;Clause):Boolean<br>&#160;&#160;nullable&#160;=&#160;clause.nullable()&#160;and&#160;first&#160;=&#160;clause.first()&#160;and&#160;follow&#160;=&#160;clause.follow()&#160;and&#160;blocks-&gt;size&#160;=&#160;clause.blocks()-&gt;size&#160;and&#160;blocks-&gt;forAll(b1&#160;|<br>&#160;&#160;&#160;&#160;clause.blocks()-&gt;exists(b2&#160;|<br>&#160;&#160;&#160;&#160;b1.equal(b2)))<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="expected"/><FONT FACE="Courier" SIZE="1">@Operation&#160;expected():XCore::Element<br>&#160;&#160;blocks-&gt;iterate(b&#160;E&#160;=&#160;Set{}&#160;|<br>&#160;&#160;&#160;&#160;E&#160;+&#160;b.expected())<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="first"/><FONT FACE="Courier" SIZE="1">@Operation&#160;first[ACCESSOR=true]():XCore::Element<br>&#160;&#160;self.first<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="follow"/><FONT FACE="Courier" SIZE="1">@Operation&#160;follow[ACCESSOR=true]():XCore::Element<br>&#160;&#160;self.follow<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="last"/><FONT FACE="Courier" SIZE="1">@Operation&#160;last(g&#160;:&#160;Grammar,called&#160;:&#160;Seq(String)):Set(String)<br>&#160;&#160;body.last(g,called)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="lift"/><FONT FACE="Courier" SIZE="1">@Operation&#160;lift():Performable<br>&#160;&#160;let&#160;nameExp&#160;=&#160;StrExp(name);<br>&#160;&#160;&#160;&#160;&#160;&#160;argsExp&#160;=&#160;SetExp("Seq",args-&gt;collect(a&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;StrExp(a)));<br>&#160;&#160;&#160;&#160;&#160;&#160;bodyExp&#160;=&#160;body.toExp(args-&gt;asSet&#160;+&#160;body.FV())<br>&#160;&#160;in&#160;[|&#160;Root::Parser::BNF::Clause(&lt;nameExp&gt;,&lt;argsExp&gt;,&lt;bodyExp&gt;)&#160;|]<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="liftOrs"/><FONT FACE="Courier" SIZE="1">@Operation&#160;liftOrs(grammar&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.body&#160;:=&#160;self.liftOrsOuter(grammar,body)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="liftOrsInner"/><FONT FACE="Courier" SIZE="1">@Operation&#160;liftOrsInner(grammar&#160;:&#160;XCore::Element,locals&#160;:&#160;XCore::Element,body&#160;:&#160;XCore::Element,next&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;let&#160;caseObj&#160;=&#160;body&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;caseObjType&#160;=&#160;caseObj.of()<br>&#160;&#160;in&#160;if&#160;caseObjType&#160;=&#160;TypeCheck<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Term<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Line<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Chars<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Char<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;NewToken<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Float<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;ImportAt<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;EOF<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Cut<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Bind<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;name&#160;=&#160;caseObj.name<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;next(locals-&gt;including(name),body)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;At<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;PopChar<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;PushChar<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;LinePos<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;PState<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Tok<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Str<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Float<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Int<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Name<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;PreAction<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Nil<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Cons<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Terminal<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Call<br>&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;StarCons<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;parser&#160;=&#160;caseObj.parser&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;caseObj&#160;=&#160;parser&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;caseObjType&#160;=&#160;caseObj.of()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;caseObjType&#160;=&#160;Char<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;next(locals,Chars())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;name&#160;=&#160;grammar.newClauseName(name&#160;+&#160;"-Star")&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;args&#160;=&#160;locals-&gt;asSeq-&gt;qsort(@Operation&#160;anonymous(x&#160;:&#160;XCore::Element,y&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x&#160;&lt;&#160;y<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;newBody&#160;=&#160;Or(And(parser,And(Bind("$head"),And(Call(name,args),And(Bind("$tail"),Cons())))),Nil())&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clause&#160;=&#160;StarClause(name,args,newBody)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;grammar.add(clause);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clause.liftOrs(grammar);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;next(locals,Call(name,args))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Opt<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;parser&#160;=&#160;caseObj.parser<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;self.liftOrsInner(grammar,locals,Or(parser,Nil()),next)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Parser::BNF::Bind<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;name&#160;=&#160;caseObj.name<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;next(locals-&gt;including(name),body)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;And<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;right&#160;=&#160;caseObj.right&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;left&#160;=&#160;caseObj.left<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;self.liftOrsInner(grammar,locals,left,@Operation&#160;anonymous(locals&#160;:&#160;XCore::Element,left&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.liftOrsInner(grammar,locals,right,@Operation&#160;anonymous(locals&#160;:&#160;XCore::Element,right&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;next(locals,And(left,right))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;PlusCons<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;parser&#160;=&#160;caseObj.parser&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name&#160;=&#160;grammar.newClauseName(name&#160;+&#160;"-PlusCons");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;args&#160;=&#160;locals-&gt;asSeq-&gt;qsort(@Operation&#160;anonymous(x&#160;:&#160;XCore::Element,y&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x&#160;&lt;&#160;y<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;call&#160;=&#160;Call(name,args);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clause&#160;=&#160;Clause(name,args,And(parser,And(Bind("$head"),And(StarCons(parser),And(Bind("$tail"),Cons())))))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;grammar.add(clause);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clause.liftOrs(grammar);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;next(locals,call)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Or<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;right&#160;=&#160;caseObj.right&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;left&#160;=&#160;caseObj.left&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name&#160;=&#160;grammar.newClauseName(name&#160;+&#160;"-Dis");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;args&#160;=&#160;locals-&gt;asSeq-&gt;qsort(@Operation&#160;anonymous(x&#160;:&#160;XCore::Element,y&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x&#160;&lt;&#160;y<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;call&#160;=&#160;Call(name,args);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clause&#160;=&#160;Clause(name,args,body)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;grammar.add(clause);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clause.liftOrs(grammar);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;next(locals,call)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;else&#160;next(locals,body)<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="liftOrsOuter"/><FONT FACE="Courier" SIZE="1">@Operation&#160;liftOrsOuter(grammar&#160;:&#160;XCore::Element,body&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;let&#160;caseObj&#160;=&#160;body&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;caseObjType&#160;=&#160;caseObj.of()<br>&#160;&#160;in&#160;if&#160;caseObjType&#160;=&#160;TypeCheck<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Term<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Line<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Char<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;StarCons<br>&#160;&#160;&#160;&#160;&#160;then&#160;self.liftOrsInner(grammar,args-&gt;asSet,body,@Operation&#160;anonymous(locals&#160;:&#160;XCore::Element,body&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;body<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;PreAction<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Str<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;NewToken<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Float<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Int<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Name<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Call<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Nil<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;PreAction<br>&#160;&#160;&#160;&#160;&#160;then&#160;body<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Opt<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;parser&#160;=&#160;caseObj.parser<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;self.liftOrsOuter(grammar,Or(parser,Nil()))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;And<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;right&#160;=&#160;caseObj.right&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;left&#160;=&#160;caseObj.left<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;self.liftOrsInner(grammar,args-&gt;asSet,left,@Operation&#160;anonymous(locals&#160;:&#160;XCore::Element,left&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.liftOrsInner(grammar,locals,right,@Operation&#160;anonymous(locals&#160;:&#160;XCore::Element,right&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;And(left,right)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;elseif&#160;caseObjType&#160;=&#160;Or<br>&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;right&#160;=&#160;caseObj.right&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;left&#160;=&#160;caseObj.left<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;Or(self.liftOrsOuter(grammar,left),self.liftOrsOuter(grammar,right))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;else&#160;body<br>&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="nullable"/><FONT FACE="Courier" SIZE="1">@Operation&#160;nullable[ACCESSOR=true]():XCore::Element<br>&#160;&#160;self.nullable<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="predict"/><FONT FACE="Courier" SIZE="1">@Operation&#160;predict(grammar&#160;:&#160;XCore::Element,token&#160;:&#160;XCore::Element,type&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;let&#160;EOF&#160;=&#160;1;<br>&#160;&#160;&#160;&#160;&#160;&#160;TERM&#160;=&#160;2;<br>&#160;&#160;&#160;&#160;&#160;&#160;FLOAT&#160;=&#160;4;<br>&#160;&#160;&#160;&#160;&#160;&#160;STRING&#160;=&#160;5;<br>&#160;&#160;&#160;&#160;&#160;&#160;NAME&#160;=&#160;6;<br>&#160;&#160;&#160;&#160;&#160;&#160;INT&#160;=&#160;7;<br>&#160;&#160;&#160;&#160;&#160;&#160;SPECIAL&#160;=&#160;8<br>&#160;&#160;in&#160;@Case&#160;type&#160;of<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;[&#160;EOF&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;cache.hasKey("EOF")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;cache.get("EOF")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;blocks&#160;=&#160;blocks-&gt;select(b&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;b.EOFPredicts())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;cache.put("EOF",blocks);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blocks<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;[&#160;STRING&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;cache.hasKey("Str")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;cache.get("Str")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;blocks&#160;=&#160;blocks-&gt;select(b&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;b.strPredicts()&#160;or&#160;b.charPredicts())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;cache.put("Str",blocks);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blocks<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;[&#160;NAME&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;token&#160;=&#160;token.toString()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;grammar.terminals()-&gt;includes(token)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;if&#160;cache.hasKey(token)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;cache.get(token)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;B&#160;=&#160;blocks-&gt;select(b&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;b.predicts()-&gt;includes(token))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;cache.put(token,B);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;B<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;blocks-&gt;select(b&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;b.namePredicts()&#160;orelse&#160;b.charPredicts()&#160;orelse&#160;b.predicts()-&gt;includes(token))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;[&#160;FLOAT&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;cache.hasKey("Float")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;cache.get("Float")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;blocks&#160;=&#160;blocks-&gt;select(b&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;b.floatPredicts()&#160;orelse&#160;b.charPredicts())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;cache.put("Float",blocks);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blocks<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;[&#160;INT&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;cache.hasKey("Int")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;cache.get("Int")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;blocks&#160;=&#160;blocks-&gt;select(b&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;b.intPredicts()&#160;orelse&#160;b.charPredicts())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;cache.put("Int",blocks);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blocks<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;[&#160;TERM&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;cache.hasKey("Term")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;cache.get("Term")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;blocks&#160;=&#160;blocks-&gt;select(b&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;b.termPredicts()&#160;orelse&#160;b.charPredicts())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;cache.put("Term",blocks);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blocks<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;[&#160;SPECIAL&#160;]&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;token&#160;=&#160;token.toString()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;cache.hasKey(token)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;cache.get(token)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;blocks&#160;=&#160;blocks-&gt;select(b&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;b.charPredicts()&#160;orelse&#160;b.predicts()-&gt;includes(token))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;cache.put(token,blocks);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blocks<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;if&#160;type&#160;&gt;&#160;SPECIAL<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;if&#160;cache.hasKey(type)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;cache.get(type)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;blocks&#160;=&#160;blocks-&gt;select(b&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;b.userPredicts()-&gt;includes(type))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;cache.put(type,blocks);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blocks<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;token&#160;=&#160;token.toString()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;cache.hasKey(token)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;cache.get(token)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;let&#160;blocks&#160;=&#160;blocks-&gt;select(b&#160;|<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;b.charPredicts()&#160;orelse&#160;b.predicts()-&gt;includes(token))<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;cache.put(token,blocks);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blocks<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="predict"/><FONT FACE="Courier" SIZE="1">@Operation&#160;predict(grammar&#160;:&#160;XCore::Element):Seq(Block)<br>&#160;&#160;@For&#160;block&#160;in&#160;blocks&#160;do<br>&#160;&#160;&#160;&#160;block.predict(self,grammar)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="setBlocks"/><FONT FACE="Courier" SIZE="1">@Operation&#160;setBlocks[UPDATER=true](v&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.blocks&#160;:=&#160;v<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="setCache"/><FONT FACE="Courier" SIZE="1">@Operation&#160;setCache[UPDATER=true](v&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.cache&#160;:=&#160;v<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="setFirst"/><FONT FACE="Courier" SIZE="1">@Operation&#160;setFirst[UPDATER=true](v&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.first&#160;:=&#160;v<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="setFollow"/><FONT FACE="Courier" SIZE="1">@Operation&#160;setFollow[UPDATER=true](v&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.follow&#160;:=&#160;v<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="setNullable"/><FONT FACE="Courier" SIZE="1">@Operation&#160;setNullable[UPDATER=true](v&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.nullable&#160;:=&#160;v<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="setOwner"/><FONT FACE="Courier" SIZE="1">@Operation&#160;setOwner(owner&#160;:&#160;Element):XCore::Element<br>&#160;&#160;body.setOwner(owner);<br>&#160;&#160;self.owner&#160;:=&#160;owner<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="terminals"/><FONT FACE="Courier" SIZE="1">@Operation&#160;terminals():Set(String)<br>&#160;&#160;body.terminals()<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="transform"/><FONT FACE="Courier" SIZE="1">@Operation&#160;transform():XCore::Element<br>&#160;&#160;self.body&#160;:=&#160;body.transform(Set{},owner)<br>end</FONT>
</TD></TR>
</FONT>
</TD>
</TR>
</TABLE>
</HTML>
