<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<TITLE>
Parser
</TITLE>
</HEAD>
<FONT SIZE="+2"><B>Parser</B></FONT><BR><BR><HR>
<FONT SIZE="+1"><B>Overview</B></FONT><BR>
<P>
No Documentation Specified
<BR><HR><BR>
<B>Parents</B>
<A HREF="../../../../../Root/XCore/Object/index.html">Object</A>
,<A HREF="../../../../../Root/XCore/Element/index.html">Element</A>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructors</B></FONT></TD>
</TR>
<TR><TD>Parser(globals)</TD><TD> No Documentation </TD></TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=3><FONT SIZE="+2">
<B>Attributes</B></FONT></TD>
</TR>
<TR><TD><B>globals</B></TD><TD><A HREF="../../../../../Root/XCore/NameSpace/index.html">Seq(NameSpace)<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>rules</B></TD><TD><A HREF="../../../../../Root/Clients/Mosaic/TypeParser/Rule/index.html">Seq(Rule)<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>text</B></TD><TD><A HREF="../../../../../Root/XCore/String/index.html">String<A></TD><TD>No Documentation Specified</TD></TR>
<TR>
<TD COLSPAN=3>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../../../Root/XCore/Element/index.html">Element</A>: roleFiller. <BR></FONT>
</TD>
</TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="2" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Operations</B></FONT></TD>
</TR>
<TR><TD><B><a href="#addRule">addRule</a>(name:<A HREF="../../../../../Root/XCore/String/index.html">String<A>,op:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>):<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#addToRules">addToRules</a>(v:<A HREF="../../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#bind">bind</a>(n:<A HREF="../../../../../Root/XCore/String/index.html">String<A>,t:<A HREF="../../../../../Root/XCore/Classifier/index.html">Classifier<A>,c:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>):<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#getType">getType</a>(c:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>):<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parse">parse</a>(text:<A HREF="../../../../../Root/XCore/String/index.html">String<A>,name:<A HREF="../../../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../../../Root/XCore/Classifier/index.html">Classifier<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseAction">parseAction</a>(c:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>):<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseBool">parseBool</a>():<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseCall">parseCall</a>(name:<A HREF="../../../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseFail">parseFail</a>():<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseInt">parseInt</a>():<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseLit">parseLit</a>(literal:<A HREF="../../../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseName">parseName</a>(c:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>):<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseOpt">parseOpt</a>(c:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>):<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseOr">parseOr</a>(p1:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>,p2:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>):<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseSeq">parseSeq</a>(p1:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>,p2:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>):<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseStar">parseStar</a>(c:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>):<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseStr">parseStr</a>():<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseSucc">parseSucc</a>():<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#parseVar">parseVar</a>():<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#setType">setType</a>(t:<A HREF="../../../../../Root/XCore/Classifier/index.html">Classifier<A>,c:<A HREF="../../../../../Root/XCore/Operation/index.html">Operation<A>):<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#skipWhiteSpace">skipWhiteSpace</a>():<A HREF="../../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR>
<TD COLSPAN=2>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../../../Root/XCore/Object/index.html">Object</A>: addDaemon, addDiagramListener, addMissingSlot, addMultiDaemon, addPersistentDaemon, addStructuralFeature, allCompositeValues, allCompositeValuesAndSelf, allDaemonsWithId, allDaemonsWithTarget, applyMapping_client, calcChildrenSlots, changedOnDiagram, compositeValues, daemonNamed, daemonWithId, daemonWithIdAndTarget, daemons, daemonsActive, destroyDaemon, edit, fire, get, getAvailableMappings, getChildren, getChildrenSlots, getChildrenToolTips, getDiagramListenerNamed, getDiagramListeners, getProperties, getProperty, getStructuralFeatureNames, hasDaemonNamed, hasDaemonWithId, hasDaemonWithIdAndTarget, hasDaemonWithTarget, hasProperty, hasSlot, hasStructuralFeature, hotLoad, hotLoaded, ignoreBy, ignoreByAll, init, initSlots, machineInit, nodeEvent, observeBy, observeBy, observedBy, observedBy, oldEdit, orderSequence, orderSequence, propertyTarget, removeDaemon, removeDaemonNamed, removeDaemonsWithId, removeDaemonsWithTarget, removeDiagramListener, removeDiagramListeners, removeStructuralFeature, renameSlot, saveXTO, saveXTOFile, set, setDaemons, setDaemonsActive, setHotLoad, setProperty, showAndLayoutDiagram, showDiagram, slotDenied, slotMissing, slotMissing, slots, synchronise. <BR><B>From</B> <A HREF="../../../../../Root/XCore/Element/index.html">Element</A>: addTo, allHTMLEntries, allHTMLPackages, assignToGlobal, assignToGlobal, browse, browse_redirect, checkConstraints, copy, copyToClipboard, copyToClipboard_transaction, createDiagram, createDiagramType, createDiagramType, createDiagramType, createTool, cutToClipboard, cutToClipboard_transaction, deleteRecursive, deployXML, die, doc, doubleClick, edit, edit_redirect, equals, error, evaluateExpression, ferror, getChildren, getChildrenToolTips, getDefaultClipboardSource, getDefaultClipboardTarget, graphVizNode, hashCode, init, init, invokeOp, isDeleteProtected, isKindOf, isProtected, isReallyKindOf, isTypeOf, isViewProtected, isWithinNameSpace, labelString, legalNameChangeCheck, legalSlotChangeCheck, legalSlotChangeCheck, lift, nameString, noOperationFound, oclIsKindOf, oclIsTypeOf, of, oldShowDiagram, pasteFromClipboard, populateGraphViz, pprint, pprint, pprint, pprintln, print, println, removeDaemon, removeDaemon, save, save2, selectDiagram, selectModelBrowserNode, send, setDelegation, setOf, setRoleFillerDialog, showAndLayoutDiagram, showDiagram, showModelBrowserNode, slotAffectsLabel, systemId, toHTML, toSVG, toSnapshot, toSnapshot, toString, toType, writeHTML, writeHTML, writeHTMLAllEntries, writeHTMLAllPackages, writeHTMLIndex, writeHTMLOverview, writeXML, writeXMLFile, yield. <BR><TR><TD COLSPAN=2><a name="addRule"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addRule(name&#160;:&#160;String,op&#160;:&#160;Operation):XCore::Element<br>&#160;&#160;self.addToRules(Rule(name,op))<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="addToRules"/><FONT FACE="Courier" SIZE="1">@Operation&#160;addToRules[EXTENDER=true](v&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;self.rules&#160;:=&#160;self.rules-&gt;including(v)<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="bind"/><FONT FACE="Courier" SIZE="1">@Operation&#160;bind(n&#160;:&#160;String,t&#160;:&#160;Classifier,c&#160;:&#160;Operation):Operation<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;c(text,Seq{Binding(n,t)&#160;|&#160;env},type,succ,fail)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="getType"/><FONT FACE="Courier" SIZE="1">@Operation&#160;getType(c&#160;:&#160;Operation):Operation<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;(c(type))(text,env,type,succ,fail)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parse"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parse(text&#160;:&#160;String,name&#160;:&#160;String):Classifier<br>&#160;&#160;let&#160;env&#160;=&#160;Seq{};<br>&#160;&#160;&#160;&#160;&#160;&#160;type&#160;=&#160;Null;<br>&#160;&#160;&#160;&#160;&#160;&#160;succ(text&#160;:&#160;XCore::Element,type&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element&#160;=&#160;if&#160;text-&gt;size&#160;=&#160;0<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;type<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;fail()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;&#160;&#160;fail():XCore::Element&#160;=&#160;Null;<br>&#160;&#160;&#160;&#160;&#160;&#160;call&#160;=&#160;self.parseCall(name)<br>&#160;&#160;in&#160;call(text.asSeq(),Seq{},Null,succ,fail)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseAction"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseAction(c&#160;:&#160;Operation):XCore::Element<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;(c())(text,env,type,succ,fail)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseBool"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseBool():XCore::Element<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;if&#160;text.hasPrefix("true".asSeq())<br>&#160;&#160;&#160;&#160;then&#160;succ(text.drop(4),Boolean,fail)<br>&#160;&#160;&#160;&#160;elseif&#160;text.hasPrefix("false".asSeq())<br>&#160;&#160;&#160;&#160;then&#160;succ(text.drop(5),Boolean,fail)<br>&#160;&#160;&#160;&#160;else&#160;fail()<br>&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseCall"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseCall(name&#160;:&#160;String):XCore::Element<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;let&#160;findSeq&#160;=&#160;rules-&gt;asSeq;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;=&#160;false;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;=&#160;null<br>&#160;&#160;&#160;&#160;in&#160;declare(hidden,findSeq);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;declare(hidden,findDone);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;declare(hidden,findResult);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;@While&#160;not&#160;findSeq-&gt;isEmpty&#160;and&#160;not&#160;findDone&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;rule&#160;=&#160;findSeq-&gt;head&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findElement&#160;=&#160;findSeq-&gt;head<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;declare(hidden,findElement);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;rule.name&#160;=&#160;name<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;:=&#160;true;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;:=&#160;(rule.op)(text,env,Null,succ,fail)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findSeq&#160;:=&#160;findSeq-&gt;tail<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;findDone<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;self.error("cannot&#160;find&#160;rule:&#160;"&#160;+&#160;name)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findResult<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseFail"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseFail():Operation<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;fail()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseInt"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseInt():XCore::Element<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;let&#160;text2&#160;=&#160;text.dropWhile(@Operation&#160;anonymous(n&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;n.isNumericChar()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)<br>&#160;&#160;&#160;&#160;in&#160;if&#160;text&#160;=&#160;text2<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;fail()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;succ(text2,Integer,fail)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseLit"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseLit(literal&#160;:&#160;String):XCore::Element<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;if&#160;text.hasPrefix(literal.asSeq())<br>&#160;&#160;&#160;&#160;then&#160;succ(text.drop(literal.size()),Null,fail)<br>&#160;&#160;&#160;&#160;else&#160;fail()<br>&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseName"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseName(c&#160;:&#160;Operation):Operation<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;if&#160;text-&gt;isEmpty<br>&#160;&#160;&#160;&#160;then&#160;fail()<br>&#160;&#160;&#160;&#160;elseif&#160;text-&gt;head.isAlphaChar()<br>&#160;&#160;&#160;&#160;then&#160;let&#160;name&#160;=&#160;text.takeWhile(@Operation&#160;anonymous(n&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;n.isAlphaChar()&#160;or&#160;n.isNumericChar()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;(c(name.asString()))(text-&gt;drop(name-&gt;size),env,type,succ,fail)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;else&#160;fail()<br>&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseOpt"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseOpt(c&#160;:&#160;Operation):XCore::Element<br>&#160;&#160;self.parseOr(c,self.parseSucc())<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseOr"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseOr(p1&#160;:&#160;Operation,p2&#160;:&#160;Operation):Operation<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;p1(text,env,type,succ,@Operation&#160;anonymous():XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;p2(text,env,type,succ,fail)<br>&#160;&#160;&#160;&#160;end)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseSeq"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseSeq(p1&#160;:&#160;Operation,p2&#160;:&#160;Operation):Operation<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;p1(text,env,type,@Operation&#160;anonymous(text&#160;:&#160;XCore::Element,type&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;p2(text,env,type,succ,fail)<br>&#160;&#160;&#160;&#160;end,fail)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseStar"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseStar(c&#160;:&#160;Operation):XCore::Element<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;c(text,env,type,@Operation&#160;anonymous(text&#160;:&#160;XCore::Element,type&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;(self.parseStar(c))(text,env,type,succ,fail)<br>&#160;&#160;&#160;&#160;end,@Operation&#160;anonymous():XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;succ(text,type,fail)<br>&#160;&#160;&#160;&#160;end)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseStr"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseStr():XCore::Element<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;if&#160;text.hasPrefix(""".asSeq())<br>&#160;&#160;&#160;&#160;then&#160;let&#160;text2&#160;=&#160;text-&gt;tail.dropWhile(@Operation&#160;anonymous(n&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;n&#160;&lt;&gt;&#160;"""-&gt;at(0)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;if&#160;text2-&gt;size&#160;=&#160;0<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;fail()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;succ(text2-&gt;tail,String,fail)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;else&#160;fail()<br>&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseSucc"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseSucc():XCore::Element<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;succ(text,type,fail)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="parseVar"/><FONT FACE="Courier" SIZE="1">@Operation&#160;parseVar():Operation<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;if&#160;text-&gt;isEmpty<br>&#160;&#160;&#160;&#160;then&#160;fail()<br>&#160;&#160;&#160;&#160;elseif&#160;text-&gt;head.isAlphaChar()<br>&#160;&#160;&#160;&#160;then&#160;let&#160;name&#160;=&#160;text.takeWhile(@Operation&#160;anonymous(n&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;n.isAlphaChar()&#160;or&#160;n.isNumericChar()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end)&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findSeq&#160;=&#160;env-&gt;asSeq;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;=&#160;false;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;=&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;declare(hidden,findSeq);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;declare(hidden,findDone);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;declare(hidden,findResult);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@While&#160;not&#160;findSeq-&gt;isEmpty&#160;and&#160;not&#160;findDone&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;b&#160;=&#160;findSeq-&gt;head&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findElement&#160;=&#160;findSeq-&gt;head<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;declare(hidden,findElement);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;b.name&#160;=&#160;name.asString()<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;:=&#160;true;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;:=&#160;succ(text-&gt;drop(name-&gt;size),b.type,fail)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findSeq&#160;:=&#160;findSeq-&gt;tail<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;findDone<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;let&#160;findSeq&#160;=&#160;globals-&gt;asSeq;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;=&#160;false;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;=&#160;null<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;declare(hidden,findSeq);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;declare(hidden,findDone);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;declare(hidden,findResult);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@While&#160;not&#160;findSeq-&gt;isEmpty&#160;and&#160;not&#160;findDone&#160;do<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let&#160;g&#160;=&#160;findSeq-&gt;head&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findElement&#160;=&#160;findSeq-&gt;head<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in&#160;declare(hidden,findElement);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;g.hasElement(name.asString())<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findDone&#160;:=&#160;true;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findResult&#160;:=&#160;succ(text-&gt;drop(name-&gt;size),g.getElement(name.asString()).of(),fail)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findSeq&#160;:=&#160;findSeq-&gt;tail<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if&#160;not&#160;findDone<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;then&#160;succ(text-&gt;drop(name-&gt;size),Null,fail)<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findResult<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else&#160;findResult<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;&#160;&#160;else&#160;fail()<br>&#160;&#160;&#160;&#160;end&#160;<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="setType"/><FONT FACE="Courier" SIZE="1">@Operation&#160;setType(t&#160;:&#160;Classifier,c&#160;:&#160;Operation):XCore::Element<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;c(text,env,t,succ,fail)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="skipWhiteSpace"/><FONT FACE="Courier" SIZE="1">@Operation&#160;skipWhiteSpace():XCore::Element<br>&#160;&#160;@Operation&#160;anonymous(text&#160;:&#160;Seq(Integer),env&#160;:&#160;Seq(Binding),type&#160;:&#160;XCore::Element,succ&#160;:&#160;XCore::Element,fail&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;succ(text.dropWhile(@Operation&#160;anonymous(n&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;&#160;&#160;&#160;&#160;n.isWhiteSpaceChar()<br>&#160;&#160;&#160;&#160;end),type,fail)<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
</FONT>
</TD>
</TR>
</TABLE>
</HTML>
