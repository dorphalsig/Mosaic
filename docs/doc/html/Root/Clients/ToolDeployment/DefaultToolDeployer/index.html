<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<TITLE>
DefaultToolDeployer
</TITLE>
</HEAD>
<FONT SIZE="+2"><B>DefaultToolDeployer</B></FONT><BR><BR><HR>
<FONT SIZE="+1"><B>Overview</B></FONT><BR>
<P>
No Documentation Specified
<BR><HR><BR>
<B>Parents</B>
<A HREF="../../../../Root/Clients/ToolDeployment/ToolDeployer/index.html">ToolDeployer</A>
,<A HREF="../../../../Root/XCore/Object/index.html">Object</A>
,<A HREF="../../../../Root/XCore/Element/index.html">Element</A>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructors</B></FONT></TD>
</TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=3><FONT SIZE="+2">
<B>Attributes</B></FONT></TD>
</TR>
<TR>
<TD COLSPAN=3>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../../Root/Clients/ToolDeployment/ToolDeployer/index.html">ToolDeployer</A>: descriptor, properties. <BR><B>From</B> <A HREF="../../../../Root/XCore/Element/index.html">Element</A>: roleFiller. <BR></FONT>
</TD>
</TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="2" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Operations</B></FONT></TD>
</TR>
<TR><TD><B><a href="#copyBranding">copyBranding</a>(target:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,iconImage16:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,iconImage32:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,aboutImage:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,splash:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#deploy">deploy</a>():<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeBranding">writeBranding</a>(target:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,includeHelp:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,includeUpdateManager:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,toolName:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeConfigurationInitFile">writeConfigurationInitFile</a>(target:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeMosaicInitFile">writeMosaicInitFile</a>(target:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeMosaicProductFile">writeMosaicProductFile</a>(target:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,version:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeMosaicStartup">writeMosaicStartup</a>(target:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,toolname:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeToolInterface">writeToolInterface</a>(toolinterface:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>,target:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B><a href="#writeToolLoader">writeToolLoader</a>(target:<A HREF="../../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR>
<TD COLSPAN=2>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../../Root/Clients/ToolDeployment/ToolDeployer/index.html">ToolDeployer</A>: deploy, lookupAllProperty, lookupProperty. <BR><B>From</B> <A HREF="../../../../Root/XCore/Object/index.html">Object</A>: addDaemon, addDiagramListener, addMissingSlot, addMultiDaemon, addPersistentDaemon, addStructuralFeature, allCompositeValues, allCompositeValuesAndSelf, allDaemonsWithId, allDaemonsWithTarget, applyMapping_client, calcChildrenSlots, changedOnDiagram, compositeValues, daemonNamed, daemonWithId, daemonWithIdAndTarget, daemons, daemonsActive, destroyDaemon, edit, fire, get, getAvailableMappings, getChildren, getChildrenSlots, getChildrenToolTips, getDiagramListenerNamed, getDiagramListeners, getProperties, getProperty, getStructuralFeatureNames, hasDaemonNamed, hasDaemonWithId, hasDaemonWithIdAndTarget, hasDaemonWithTarget, hasProperty, hasSlot, hasStructuralFeature, hotLoad, hotLoaded, ignoreBy, ignoreByAll, init, initSlots, machineInit, nodeEvent, observeBy, observeBy, observedBy, observedBy, oldEdit, orderSequence, orderSequence, propertyTarget, removeDaemon, removeDaemonNamed, removeDaemonsWithId, removeDaemonsWithTarget, removeDiagramListener, removeDiagramListeners, removeStructuralFeature, renameSlot, saveXTO, saveXTOFile, set, setDaemons, setDaemonsActive, setHotLoad, setProperty, showAndLayoutDiagram, showDiagram, slotDenied, slotMissing, slotMissing, slots, synchronise. <BR><B>From</B> <A HREF="../../../../Root/XCore/Element/index.html">Element</A>: addTo, allHTMLEntries, allHTMLPackages, assignToGlobal, assignToGlobal, browse, browse_redirect, checkConstraints, copy, copyToClipboard, copyToClipboard_transaction, createDiagram, createDiagramType, createDiagramType, createDiagramType, createTool, cutToClipboard, cutToClipboard_transaction, deleteRecursive, deployXML, die, doc, doubleClick, edit, edit_redirect, equals, error, evaluateExpression, ferror, getChildren, getChildrenToolTips, getDefaultClipboardSource, getDefaultClipboardTarget, graphVizNode, hashCode, init, init, invokeOp, isDeleteProtected, isKindOf, isProtected, isReallyKindOf, isTypeOf, isViewProtected, isWithinNameSpace, labelString, legalNameChangeCheck, legalSlotChangeCheck, legalSlotChangeCheck, lift, nameString, noOperationFound, oclIsKindOf, oclIsTypeOf, of, oldShowDiagram, pasteFromClipboard, populateGraphViz, pprint, pprint, pprint, pprintln, print, println, removeDaemon, removeDaemon, save, save2, selectDiagram, selectModelBrowserNode, send, setDelegation, setOf, setRoleFillerDialog, showAndLayoutDiagram, showDiagram, showModelBrowserNode, slotAffectsLabel, systemId, toHTML, toSVG, toSnapshot, toSnapshot, toString, toType, writeHTML, writeHTML, writeHTMLAllEntries, writeHTMLAllPackages, writeHTMLIndex, writeHTMLOverview, writeXML, writeXMLFile, yield. <BR><TR><TD COLSPAN=2><a name="copyBranding"/><FONT FACE="Courier" SIZE="1">@Operation&#160;copyBranding(target&#160;:&#160;XCore::Element,iconImage16&#160;:&#160;XCore::Element,iconImage32&#160;:&#160;XCore::Element,aboutImage&#160;:&#160;XCore::Element,splash&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;if&#160;iconImage16.fileExists()&#160;andthen&#160;iconImage16.hasSuffix(".gif")<br>&#160;&#160;then&#160;iconImage16.copyFile(target&#160;+&#160;"/icons/mosaic16.gif")<br>&#160;&#160;else&#160;format(stdout,"Warning:&#160;tool&#160;icon&#160;must&#160;be&#160;a&#160;gif&#160;image~%")<br>&#160;&#160;end&#160;;<br>&#160;&#160;if&#160;iconImage32.fileExists()&#160;andthen&#160;iconImage32.hasSuffix(".gif")<br>&#160;&#160;then&#160;iconImage32.copyFile(target&#160;+&#160;"/icons/mosaic32.gif")<br>&#160;&#160;else&#160;format(stdout,"Warning:&#160;tool&#160;icon&#160;must&#160;be&#160;a&#160;gif&#160;image~%")<br>&#160;&#160;end&#160;;<br>&#160;&#160;if&#160;aboutImage.fileExists()&#160;andthen&#160;aboutImage.hasSuffix(".gif")<br>&#160;&#160;then&#160;aboutImage.copyFile(target&#160;+&#160;"/icons/mosaicLogo.gif")<br>&#160;&#160;else&#160;format(stdout,"Warning:&#160;about&#160;branding&#160;must&#160;be&#160;a&#160;gif&#160;image~%")<br>&#160;&#160;end&#160;;<br>&#160;&#160;if&#160;splash.fileExists()&#160;andthen&#160;splash.hasSuffix(".bmp")<br>&#160;&#160;then&#160;splash.copyFile(target&#160;+&#160;"/splash/splash.bmp")<br>&#160;&#160;else&#160;format(stdout,"Warning:&#160;splash&#160;must&#160;be&#160;a&#160;bmp&#160;image~%")<br>&#160;&#160;end&#160;<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="deploy"/><FONT FACE="Courier" SIZE="1">@Operation&#160;deploy():XCore::Element<br>&#160;&#160;let&#160;toolName&#160;=&#160;self.lookupProperty("ToolName");<br>&#160;&#160;&#160;&#160;&#160;&#160;dir&#160;=&#160;self.lookupProperty("DeploymentTarget")&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;target&#160;=&#160;(dir&#160;+&#160;"/"&#160;+&#160;toolName);<br>&#160;&#160;&#160;&#160;&#160;&#160;eclipsePlugins&#160;=&#160;self.lookupProperty("EclipsePlugins");<br>&#160;&#160;&#160;&#160;&#160;&#160;xmfMosaicPlugins&#160;=&#160;self.lookupProperty("XMFMosaicPlugins");<br>&#160;&#160;&#160;&#160;&#160;&#160;xmfMosaicVersion&#160;=&#160;self.lookupProperty("XMFMosaicVersion")<br>&#160;&#160;in&#160;target.mkDir();<br>&#160;&#160;&#160;&#160;&#160;(target&#160;+&#160;"/features").mkDir();<br>&#160;&#160;&#160;&#160;&#160;(target&#160;+&#160;"/configuration").mkDir();<br>&#160;&#160;&#160;&#160;&#160;let&#160;plugintarget&#160;=&#160;target&#160;+&#160;"/plugins"<br>&#160;&#160;&#160;&#160;&#160;in&#160;eclipsePlugins.copyFile(plugintarget);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;xmfMosaicPlugins.copyFile(plugintarget)<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;(eclipsePlugins&#160;+&#160;"/org.eclipse.platform_3.1.1/startup.jar").copyFile(target&#160;+&#160;"/startup.jar");<br>&#160;&#160;&#160;&#160;&#160;self.writeConfigurationInitFile(target&#160;+&#160;"/configuration");<br>&#160;&#160;&#160;&#160;&#160;self.writeMosaicInitFile(target);<br>&#160;&#160;&#160;&#160;&#160;self.writeMosaicProductFile(target,xmfMosaicVersion);<br>&#160;&#160;&#160;&#160;&#160;self.writeMosaicStartup(target,toolName);<br>&#160;&#160;&#160;&#160;&#160;let&#160;target&#160;=&#160;target&#160;+&#160;"/plugins/com.ceteva.mosaic_"&#160;+&#160;xmfMosaicVersion;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;includeUpdateManager&#160;=&#160;self.lookupProperty("IncludeUpdateManager");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;includeHelp&#160;=&#160;self.lookupProperty("IncludeHelp");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;iconImage16&#160;=&#160;self.lookupProperty("WindowImage16");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;iconImage32&#160;=&#160;self.lookupProperty("WindowImage32");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aboutImage&#160;=&#160;self.lookupProperty("AboutImage");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;splash&#160;=&#160;self.lookupProperty("Splash")<br>&#160;&#160;&#160;&#160;&#160;in&#160;self.copyBranding(target,iconImage16,iconImage32,aboutImage,splash);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.writeBranding(target,includeHelp,includeUpdateManager,toolName)<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;let&#160;tooldefinition&#160;=&#160;self.lookupProperty("ToolDefinition");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;toolinterface&#160;=&#160;self.lookupProperty("ToolInterface")&#160;then<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;toolinterfaceTarget&#160;=&#160;(target&#160;+&#160;"/plugins/com.ceteva.xmf_"&#160;+&#160;xmfMosaicVersion&#160;+&#160;"/Boot/Mosaic/ToolInterface")<br>&#160;&#160;&#160;&#160;&#160;in&#160;tooldefinition.copyFile(target&#160;+&#160;"/plugins/com.ceteva.xmf_"&#160;+&#160;xmfMosaicVersion&#160;+&#160;"/ToolDefinition");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.writeToolLoader(target&#160;+&#160;"/plugins/com.ceteva.xmf_"&#160;+&#160;xmfMosaicVersion);<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;self.writeToolInterface(toolinterface,toolinterfaceTarget)<br>&#160;&#160;&#160;&#160;&#160;end<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeBranding"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeBranding(target&#160;:&#160;XCore::Element,includeHelp&#160;:&#160;XCore::Element,includeUpdateManager&#160;:&#160;XCore::Element,toolName&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;@WithOpenFile(fout&#160;-&gt;&#160;target&#160;+&#160;"/plugin.xml")<br>&#160;&#160;&#160;&#160;format(fout,"&lt;?xml&#160;version="1.0"&#160;encoding="UTF-8"&#160;?&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&lt;?eclipse&#160;version="3.0"?&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&lt;plugin&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&lt;extension&#160;id="XMF-Mosaic"&#160;point="org.eclipse.core.runtime.applications"&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&lt;application&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&#160;&#160;&lt;run&#160;class="com.ceteva.mosaic.Boot"/&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&lt;/application&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&lt;/extension&gt;~%");<br>&#160;&#160;&#160;&#160;if&#160;includeUpdateManager<br>&#160;&#160;&#160;&#160;then&#160;<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&lt;extension&#160;point="org.eclipse.ui.actionSets"&gt;~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&lt;actionSet&#160;label="%UpdateActionSet.label"&#160;visible="true"&#160;id="org.eclipse.update.ui.softwareUpdates"&gt;~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&#160;&#160;&lt;menu&#160;label="Software&#160;Updates"&#160;path="help/helpEnd"&#160;id="org.eclipse.update.ui.updateMenu"&gt;~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;separator&#160;name="group0"&#160;/&gt;~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;separator&#160;name="group1"&#160;/&gt;~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&#160;&lt;/menu&gt;~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&#160;&#160;&lt;action&#160;label="Manage&#160;Configuration"&#160;icon="icons/configs.gif"&#160;helpContextId="org.eclipse.update.ui.newUpdates"&#160;class="com.ceteva.mosaic.actions.ConfigurationManagerAction"&#160;menubarPath="help/org.eclipse.update.ui.updateMenu/group0"&#160;id="org.eclipse.update.ui.configManager"/&gt;~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&#160;&#160;&lt;action&#160;label="Find&#160;and&#160;Install"&#160;icon="icons/usearch_obj.gif"&#160;helpContextId="org.eclipse.update.ui.newUpdates"&#160;class="com.ceteva.mosaic.actions.InstallWizardAction"&#160;menubarPath="help/org.eclipse.update.ui.updateMenu/group0"&#160;id="org.eclipse.update.ui.newUpdates"&#160;/&gt;~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&lt;/actionSet&gt;~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&lt;/extension&gt;~%")<br>&#160;&#160;&#160;&#160;else&#160;false<br>&#160;&#160;&#160;&#160;end&#160;;<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&lt;extension&#160;point="org.eclipse.ui.startup"&#160;/&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&lt;extension&#160;id="XMFMosaic"&#160;point="org.eclipse.core.runtime.products"&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&lt;product&#160;application="com.ceteva.mosaic.XMF-Mosaic"&#160;name="~S"&gt;~%",Seq{toolName});<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&#160;&#160;&lt;property&#160;name="windowImages"&#160;value="icons/mosaic16.gif,icons/mosaic32.gif"/&gt;&#160;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&#160;&#160;&lt;property&#160;name="aboutImage"&#160;value="icons/mosaicLogo.gif"/&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&#160;&#160;&lt;property&#160;name="appName"&#160;value="XMF-Mosaic"&#160;/&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&#160;&#160;&lt;property&#160;name="preferenceCustomization"&#160;value="help_customization.ini"&#160;/&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&#160;&#160;&lt;/product&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&#160;&#160;&lt;/extension&gt;~%");<br>&#160;&#160;&#160;&#160;format(fout,"&lt;/plugin&gt;~%");<br>&#160;&#160;&#160;&#160;fout.close()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeConfigurationInitFile"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeConfigurationInitFile(target&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;@WithOpenFile(fout&#160;-&gt;&#160;target&#160;+&#160;"/config.ini")<br>&#160;&#160;&#160;&#160;format(fout,"eclipse.product=com.ceteva.mosaic.XMFMosaic~%");<br>&#160;&#160;&#160;&#160;format(fout,"osgi.bundles=org.eclipse.core.runtime@2:start,org.eclipse.update.configurator@3:start~%");<br>&#160;&#160;&#160;&#160;format(fout,"osgi.bundles.defaultStartLevel=4~%");<br>&#160;&#160;&#160;&#160;fout.close()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeMosaicInitFile"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeMosaicInitFile(target&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;@WithOpenFile(fout&#160;-&gt;&#160;target&#160;+&#160;"/XMF-Mosaic.ini")<br>&#160;&#160;&#160;&#160;format(fout,"-vmargs~%");<br>&#160;&#160;&#160;&#160;format(fout,"-Xmx150m~%");<br>&#160;&#160;&#160;&#160;fout.close()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeMosaicProductFile"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeMosaicProductFile(target&#160;:&#160;XCore::Element,version&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;@WithOpenFile(fout&#160;-&gt;&#160;target&#160;+&#160;"/.eclipseproduct")<br>&#160;&#160;&#160;&#160;format(fout,"version=~S~%",Seq{version});<br>&#160;&#160;&#160;&#160;format(fout,"name=XMF-Mosaic~%");<br>&#160;&#160;&#160;&#160;format(fout,"id=com.ceteva.mosaic.XMFMosaic~%");<br>&#160;&#160;&#160;&#160;fout.close()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeMosaicStartup"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeMosaicStartup(target&#160;:&#160;XCore::Element,toolname&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;@WithOpenFile(fout&#160;-&gt;&#160;target&#160;+&#160;"/"&#160;+&#160;toolname&#160;+&#160;".bat")<br>&#160;&#160;&#160;&#160;format(fout,"javaw&#160;-Xmx150m&#160;-cp&#160;startup.jar&#160;org.eclipse.core.launcher.Main&#160;");<br>&#160;&#160;&#160;&#160;format(fout,"-os&#160;win32&#160;-ws&#160;win32&#160;-arch&#160;x86&#160;-nl&#160;en_US&#160;-product&#160;com.ceteva.mosaic.XMFMosaic~%");<br>&#160;&#160;&#160;&#160;fout.close()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeToolInterface"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeToolInterface(toolinterface&#160;:&#160;XCore::Element,target&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;toolinterface.copyFile(target&#160;+&#160;".xmf");<br>&#160;&#160;Compiler::compileFile(target,true,true);<br>&#160;&#160;(target&#160;+&#160;".xmf").deleteFile()<br>end</FONT>
</TD></TR>
<TR><TD COLSPAN=2><a name="writeToolLoader"/><FONT FACE="Courier" SIZE="1">@Operation&#160;writeToolLoader(target&#160;:&#160;XCore::Element):XCore::Element<br>&#160;&#160;let&#160;target&#160;=&#160;target&#160;+&#160;"/Patches/toolLoader"<br>&#160;&#160;in&#160;@WithOpenFile(fout&#160;-&gt;&#160;target&#160;+&#160;".xmf")<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;format(fout,"(xmf.homeDir()&#160;+&#160;"/ToolDefinition/Manifest.o").loadBin().load(xmf.homeDir()&#160;+&#160;"/ToolDefinition");~%");<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;fout.close()<br>&#160;&#160;&#160;&#160;&#160;end;<br>&#160;&#160;&#160;&#160;&#160;Compiler::compileFile(target,true,true);<br>&#160;&#160;&#160;&#160;&#160;(target&#160;+&#160;".xmf").deleteFile()<br>&#160;&#160;end<br>end</FONT>
</TD></TR>
</FONT>
</TD>
</TR>
</TABLE>
</HTML>
